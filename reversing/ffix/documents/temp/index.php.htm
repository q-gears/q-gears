<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html autopagerversion="0.5.3.5" autopagersettingowner="Wind Li" containerxpath="" contentxpath="//form[@id='quickModForm'] |(//table[@class='bordercolor'] |  //table[(@class='tborder') or (count(tbody/tr/td[@class='middletext'])&gt;0)])[not (ancestor::form[@id='quickModForm'])]" fixoverflow="false" linkxpath="//a[@class='navPages'][1]/../b[translate(text(),'1234567890','')='']/following-sibling::a[1][(translate(text(),'1234567890','')='')]" autopagerneedmouseevent="false" autopagerajax="false" enablejs="true" xmlns="http://www.w3.org/1999/xhtml"><head>

	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<meta name="description" content="ff9.img directories and files">
	<meta name="keywords" content="PHP, MySQL, bulletin, board, free, open, source, smf, simple, machines, forum">
	<script language="JavaScript" type="text/javascript" src="index.php_files/script.js"></script>
	<script language="JavaScript" type="text/javascript"><!-- // --><![CDATA[
		var smf_theme_url = "http://forums.qhimm.com/Themes/babylon";
		var smf_images_url = "http://forums.qhimm.com/Themes/babylon/images";
		var smf_scripturl = "http://forums.qhimm.com/index.php";
		var smf_iso_case_folding = false;
		var smf_charset = "ISO-8859-1";
	// ]]></script>
	<title>ff9.img directories and files</title>
	<link rel="stylesheet" type="text/css" href="index.php_files/style.css">
	<link rel="stylesheet" type="text/css" href="index.php_files/print.css" media="print">
	<link rel="help" href="http://forums.qhimm.com/index.php?action=help" target="_blank">
	<link rel="search" href="http://forums.qhimm.com/index.php?action=search">
	<link rel="contents" href="http://forums.qhimm.com/index.php">
	<link rel="alternate" type="application/rss+xml" title="Qhimm.com - RSS" href="http://forums.qhimm.com/index.php?type=rss;action=.xml">
	<link rel="prev" href="http://forums.qhimm.com/index.php?topic=5481.0;prev_next=prev">
	<link rel="next" href="http://forums.qhimm.com/index.php?topic=5481.0;prev_next=next">
	<link rel="index" href="http://forums.qhimm.com/index.php?board=4.0">

	<script language="JavaScript" type="text/javascript"><!-- // --><![CDATA[
		var current_header = false;

		function shrinkHeader(mode)
		{
			smf_setThemeOption("collapse_header", mode ? 1 : 0, null, "9adac86f71db0d5b33b4b2b0ff6b7709");
			document.getElementById("upshrink").src = smf_images_url + (mode ? "/upshrink2.gif" : "/upshrink.gif");

			document.getElementById("upshrinkHeader").style.display = mode ? "none" : "";

			current_header = mode;
		}
	// ]]></script>
</head><body>
	<div id="headerarea" style="padding: 12px 30px 4px;">
		<table style="position: relative;" border="0" cellpadding="0" cellspacing="0" width="100%">
			<tbody><tr>
				<td colspan="2" style="padding: 5px; white-space: nowrap;" valign="bottom">
					<img src="index.php_files/smflogo.gif" style="width: 250px; float: right;" alt="">
					<span style="font-family: Georgia,sans-serif; font-size: xx-large;">Qhimm.com</span>
				</td>
			</tr>
			<tr id="upshrinkHeader">
				<td valign="top">
					<div class="headertitles" style="margin-right: 5px; position: relative;"><img src="index.php_files/blank.gif" alt="" height="12"></div>
					<div class="headerbodies" style="position: relative; margin-right: 5px; background-image: url(http://forums.qhimm.com/Themes/babylon/images/box_bg.gif);">
						<img src="index.php_files/userinfo.gif" style="position: absolute; left: -1px; top: -16px; clear: both;" alt="">
						<table border="0" cellpadding="0" cellspacing="5" width="99%"><tbody><tr><td valign="middle"><img src="index.php_files/avatar.htm" alt="" class="avatar" border="0"></td><td class="smalltext" style="width: 100%; font-family: verdana,arial,sans-serif;" valign="top">
							Hey, <b>Akari</b>, you have <a href="http://forums.qhimm.com/index.php?action=pm">61 messages</a>, 0 are new.<br>
							Total time logged in: 8 days, 19 hours and 37 minutes.<br>
							<a href="http://forums.qhimm.com/index.php?action=unread">Show unread posts since last visit.</a><br>
							<a href="http://forums.qhimm.com/index.php?action=unreadreplies">Show new replies to your posts.</a><br>
							2009-09-24 08:05:56
						</td></tr></tbody></table>
					</div>

					<form action="http://forums.qhimm.com/index.php?action=search2" method="post" accept-charset="ISO-8859-1" style="margin: 0pt;">
						<div style="margin-top: 7px;">
							<b>Search: </b><input name="search" style="width: 190px;" type="text">&nbsp;
							<input name="submit" value="Search" style="width: 8ex;" type="submit">&nbsp;
							<a href="http://forums.qhimm.com/index.php?action=search;advanced">Advanced search</a>
							<input name="advanced" value="0" type="hidden">
							<input name="topic" value="5481" type="hidden">
						</div>
					</form>

				</td>
				<td style="width: 262px; padding-left: 6px;" valign="top">
					<div class="headertitles" style="width: 260px;"><img src="index.php_files/blank.gif" alt="" height="12"></div>
					<div class="headerbodies" style="width: 260px; position: relative; background-image: url(http://forums.qhimm.com/Themes/babylon/images/box_bg.gif); margin-bottom: 8px;">
						<img src="index.php_files/newsbox.gif" style="position: absolute; left: -1px; top: -16px;" alt="">
						<div style="padding: 5px; overflow: auto; height: 50px;" class="smalltext">New forums! Please see <a href="http://forums.qhimm.com/index.php?topic=5523.0">this topic</a> for more information.</div>
					</div>
					<div class="headertitles" style="width: 260px;"><img src="index.php_files/blank.gif" alt="" height="12"></div>
					<div class="headerbodies" style="width: 260px; position: relative; background-image: url(http://forums.qhimm.com/Themes/babylon/images/box_bg.gif);">
						<img src="index.php_files/keystats.gif" style="position: absolute; left: -1px; top: -16px;" alt="">
						<div style="padding: 5px; min-height: 35px;" class="smalltext">
							<b>96936</b> Posts in <b>7299</b> Topics by <span style="white-space: nowrap;"><b>5523</b> Members</span><br>
							Latest Member: <b> <a href="http://forums.qhimm.com/index.php?action=profile;u=6627">Mikkas</a></b>
						</div>
					</div>
				</td>
			</tr>
		</tbody></table>

		<a href="javascript:void(0);" onclick="shrinkHeader(!current_header); return false;"><img id="upshrink" src="index.php_files/upshrink.gif" alt="*" title="Shrink or expand the header." style="margin: 2px 2ex 2px 0pt;" border="0"></a>
				<a href="http://forums.qhimm.com/index.php"><img src="index.php_files/home.gif" alt="Home" style="margin: 2px 0pt;" border="0"></a> 
				<a href="http://forums.qhimm.com/index.php?action=help"><img src="index.php_files/help.gif" alt="Help" style="margin: 2px 0pt;" border="0"></a> 
				<a href="http://forums.qhimm.com/index.php?action=search"><img src="index.php_files/search.gif" alt="Search" style="margin: 2px 0pt;" border="0"></a> 
				<a href="http://forums.qhimm.com/index.php?action=profile"><img src="index.php_files/profile.gif" alt="Profile" style="margin: 2px 0pt;" border="0"></a> 
				<a href="http://forums.qhimm.com/index.php?action=logout;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/logout.gif" alt="Logout" style="margin: 2px 0pt;" border="0"></a>
	</div>
	<table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr>
		<td id="bodyarea" style="padding: 1ex 20px 2ex;">
<a name="top"></a>
<a name="msg70978"></a>
<table cellpadding="3" cellspacing="0" width="100%">
	<tbody><tr>
		<td valign="bottom"><span class="nav" style="font-size: smaller;"><b><a href="http://forums.qhimm.com/index.php" class="nav">Qhimm.com</a></b> &nbsp;|&nbsp; <b><a href="http://forums.qhimm.com/index.php#1" class="nav">Public forums</a></b> &nbsp;|&nbsp; <b><a href="http://forums.qhimm.com/index.php?board=4.0" class="nav">Tech-related</a></b> (Moderator: <a href="http://forums.qhimm.com/index.php?action=profile;u=109" title="Board Moderator">halkun</a>) &nbsp;|&nbsp; Topic: <b><a href="http://forums.qhimm.com/index.php?topic=5481.0" class="nav">ff9.img directories and files</a></b></span></td>
		<td class="smalltext" align="right" valign="bottom">
			<span class="nav"><a href="http://forums.qhimm.com/index.php?topic=5481.0;prev_next=prev#new"> previous</a> <a href="http://forums.qhimm.com/index.php?topic=5481.0;prev_next=next#new">next </a></span>
		</td>
	</tr>
</tbody></table>
<table class="tborder" style="margin-bottom: 1ex;" border="0" cellpadding="3" cellspacing="0" width="100%">
	<tbody><tr>
		<td class="catbg" height="35" width="100%">
			<table cellpadding="3" cellspacing="0" width="100%">
				<tbody><tr>
					<td>
						<b>Pages:</b> [<b>1</b>] <a class="navPages" href="http://forums.qhimm.com/index.php?topic=5481.25">2</a> 
					</td>
					<td style="font-size: smaller;" align="right"><a href="http://forums.qhimm.com/index.php?action=post;topic=5481.0;num_replies=36"><img src="index.php_files/reply.gif" alt="Reply" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=notify;sa=on;topic=5481.0;sesc=9adac86f71db0d5b33b4b2b0ff6b7709" onclick="return confirm('Are you sure you wish to enable notification of new replies for this topic?');"><img src="index.php_files/notify.gif" alt="Notify of replies" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=markasread;sa=topic;t=107251;topic=5481.0;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/markunread.gif" alt="Mark unread" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=sendtopic;topic=5481.0"><img src="index.php_files/sendtopic.gif" alt="Send this topic" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=printpage;topic=5481.0" target="_blank"><img src="index.php_files/print.gif" alt="Print" border="0"></a></td>
				</tr>
			</tbody></table>
		</td>
	</tr>
</tbody></table>
<table class="tborder" style="border-bottom: 0pt none;" border="0" cellpadding="3" cellspacing="0" width="100%">
	<tbody><tr class="titlebg">
		<td style="padding-left: 6px;" valign="middle" width="15%">
			<img src="index.php_files/hot_post.gif" alt="" align="middle"> Author
		</td>
		<td style="padding-left: 6px;" id="top_subject" valign="middle" width="85%">
			Topic: ff9.img directories and files &nbsp;(Read 4155 times)
		</td>
	</tr>
</tbody></table>
<form action="http://forums.qhimm.com/index.php?action=quickmod2;topic=5481.0" method="post" name="quickModForm" accept-charset="ISO-8859-1" id="quickModForm" style="margin: 0pt;" onsubmit="return in_edit_mode == 1 ? modify_save('9adac86f71db0d5b33b4b2b0ff6b7709') : confirm('Are you sure you want to do this?');">
<table class="bordercolor" border="0" cellpadding="0" cellspacing="0" width="100%">
	<tbody><tr><td style="padding: 1px 1px 0pt;">
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg70978#msg70978"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_70978">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg70978#msg70978">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b> on:</b> 2006-04-22 21:29:24 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=70978;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Hi everyone!<br><br>I've
been playing with the "ff9.img" file for a while and found some of its
structures. Now I'm trying to make some utilities to simplify the task
of understanding them. I only have access to the Spanish version of FF9
so I was wondering if someone would be kind enough to verify some
information on the English version for me.<br><br>I'm only interested
in verifying the order of the directories inside of "ff9.img" and the
number of files for each one. As I couldn't find information on the Net
or the forums about this, I'm assuming it's not known to everyone so
here it goes...<br><br>"ff9.img" is divided in sectors of 0x800 bytes.
What I need is information on the first sector of the first disk, that
goes from 0x00000000 to 0x000007ff. It's similar to a root directory
and its structure is something like this (in the Spanish version):<br><br>000: (4 bytes) Signature "FF9 ".<br>004: (4 bytes) Don't know yet. (Value=0x6)<br>008: (4 bytes) Number of entries in directory. (Value=0xf)<br>00C: (4 bytes) Don't know yet. (Value=0x1)<br><br>Next follow each directoy entry up to a number equal to the value at offset 0x008.<br><br>(4 bytes) - Type. (02=directory; 03=array of files; 04=end of volume) (I think.)<br>(4 bytes) - Number of files in directory. (Except for type 04.)<br>(4 bytes) - Pointer to sector with more information about files in directory. (Different meaning for type 04.)<br>(4 bytes) - Pointer to first sector of first file. (Except for type 04.)<br><br><br>The rest is padded with the string "FF9 ".<br><br>Next is the list of values I need you to check. I added the value in the Spanish version, just in case someone is interested.<br><br>008: (0xF)<br>014: (0x15)<br>024: (0x23)<br>034: (0x13)<br>044: (0xF)<br>054: (0xde)<br>064: (0x151)<br>074: (0x97)<br>084: (0x65)<br>094: (0x55)<br>0a4: (0x37)<br>0b4: (0x2a)<br>0c4: (0x1ab)<br>0d4: (0x2)<br>0e4: (0x1ff)<br><br><br>One
more thing. May I ask what's been found out about this file? I only saw
posts by Zande and Cyberman but most of the work is on FF7 and the new
engine. I've just started and my list is more or less:<br><br>- Directory structure and file extraction. (Done, with details pending.)<br>- General structure for some container files. (DBxx structures only.)<br>-
Models for weapons, enemies and characters. (Bones and animation
pending.) Other models too, but I haven't spent much time to recognize
them. (Maybe some scenery.)<br>- Geometry for World Map. (Learning OpenGL to add textures. Plus, some details pending.)<br><br><br>Thank you very much for any information you can give me.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_70978" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.0;msg=70978">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg70982"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg70982#msg70982"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_70982">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg70982#msg70982">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #1 on:</b> 2006-04-23 01:56:08 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=70982;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Umm
well the first sector of the disk are you refering to the file FF9.img
or are you refering to the entire disk? IE mode 1 Form 1 0:0:0 or LBA 0
on the disk?<br><br>If it's the file that's probably good (LOL). <br>The
reason the file is in 0x800 byte chunks is that is the playstation
sector size, which makes it easier to seek data in the program. Likely
to be read in Mode 2 form 1 this might be the reason I've been having
some trouble dealing with the data analysis (hmmm) because the header
may shift it 8 bytes if it's a Mode 2 sector. &nbsp;Windows does not
deal with the larger sector size of Mode 2 form 2 at all (shrug).<br><br>In
any case a quick look at the structure indicates that the directory
information is fairly simple it just has a list of sector count and
start values.<br><br>What is the difference to you between an array of
files and a directory? &nbsp;04 may indicate that there isn't anything
more in directory entries.<br>Your 02 and 03 designations puzzle me. I'll have to look at what it means using the actual data.<br><br>I'll
write a quickie bit of code to use this information to see if it works
right. I can also detect TIM and model files already, and possibly find
the field information files as well with this. PRIOR to this what I did
was search through the image file and make references. However with
exact pointers this will change things a lot in terms of knowing where
data is and decoding it. <br><br>Cyb</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_70982" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.1;msg=70982">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg70989"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg70989#msg70989"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_70989">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg70989#msg70989">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #2 on:</b> 2006-04-23 05:01:25 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=70989;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Cyberman, thanks for your answer.<br><br>I
messed it a bit when I said "the first sector of the first disk". It's
the first sector of the "ff9.img" file in the first disk as I'm not
using the other disks at the moment. (First sector of the file.)
Everywhere I mention sector I mean sector in the file, not the disk.<br><br><br>Type 02 entries have elements like this:<br>(4 bytes) - I don't know what they are, but include incrementing numbers and some attributes. (Maybe identifiers.)<br>(4 bytes) - Pointer to first sector of file.<br><br>This means Type 02 entries are like directories, with entries pointing directly to the files.<br><br><br>Type 03 entries are a bit different. I've got only one. Its elements are like this:<br>(2
bytes) - Number of sectors to add to base sector or 0xffff for empty
entries, with "base sector" being the sector pointer that appears in
the Type 03 entry.<br><br>I see Type 03 entries as an array of pointers
to files inside another file. Perhaps a better term would be
subdirectory, but then, the structure is not like the others. You pick
the names as I'm not very good at that.<br>I think all files in this
entry are the effects you see (hear?) in the battles as there are a lot
of images of little stars and thunder.<br><br><br>The Type 04 entry effectively indicates there are no more entries. It points to the same sector pointed by the first entry.<br><br><br>I checked "ff9.img" for sectors not accessible using this structures and there are none, so the whole file is covered. <br>Most
of the files I just described are containers to other files so you'll
find most TIMs, models, etc. inside those containers. You can also be
sure that no file inside a container has a pointer ouside the container
unless it coincides with the end of the container itself. It may have
an indirect way to reference something outside the container (like an
index) but it doesn't point to it directly.<br><br><br>Each Type 02
entry groups the information in logical modules: Initialization and
disk management, cards game, field, battle, enemies, weapons,
characters, music, world map and some other things. (I think the order
is right but I'm missing some as I've not yet gotten to the point of
documenting anything.) The order of these things and the number of
their files in the English version is what I wanted to check when I
made my first post.<br><br>I wrote some code to extract the files, to
look at what I know about the models, to extract TIMs and to look for
other graphics not in TIM format, but it's too messy at the moment. If
there's someone brave enough I can give it away as I'm more interested
in studying the structures at the moment. It's written in C# and I was
thinking in rewritting it in C when everything was more clear. Anyway,
I don't like to code as much as I like decoding.<br><br>I also wrote
some code in C, using OpenGL to render the geometry of the World Map
and it does quite well. It still doesn't render the textures, but I'm
working on it. Again, if there's interest I'll post the code, but not
the binary as it's sort of a hack.<br><br><br>WARNING Cyberman: Spoiler ahead, or not. <img src="index.php_files/wink.gif" alt="Wink" border="0"><br><br>Once
you separate the files I described you'll find most of them are
containers to other files. Some of these have what I've named "DBxx
structures". (Feel free to rename them.)<br><br>You'll recognize the DBxx structures because in an hex editor they start like this:<br><br>DB xx 00 00-yy yy yy tt-...<br><br>Where
"DB" is the byte value 0xdb and "xx" tells the number of parts that
describe the complete DBxx structure. Next come a list of pointers to
each part, relative to offset 4 (where "yy" starts). No part overlaps
another one in the same level (there are some nested DBxx.)<br><br>The
pointer to each part has the structure "yy yy yy tt", where "yyyyyy" is
the pointer relative to offset 4 and "tt" seems to be the type for the
part. Some of the values of "tt" I've found are:<br><br>&nbsp; tt=02 --&gt; 3D model (weapon, enemies, etc.)<br>&nbsp; tt=03 --&gt; Skins. (enemies)<br>&nbsp; tt=04 --&gt; Skins. (weapons)<br>&nbsp; tt=08 --&gt; AKAO?<br>&nbsp; tt=12 --&gt; AKAO?<br>&nbsp; tt=14 --&gt; End of AKAO?<br>&nbsp; tt=19 --&gt; <br>&nbsp; tt=1B --&gt; Sub-structure container.<br><br>With this information it's easy to further subdivide some files.<br><br>You
can find DBxx by recursively going deeper in the structure or try the
quickly and dirtly way: Search for "DB xx 00 00 yy yy yy" (without
"tt") and force yyyyyy=xx*4.<br><br>If "tt"=0x1b, you'll have more
nested structures. And keep in mind that depending on the structure
you'll have to change the base offset for references, some are relative
to a common offset and some are relative to themselves.<br><br><br>If
there's someone interested in a little more info just let me know and
I'll order my mess a bit. Anyone want to split the file 50-50? <img src="index.php_files/wink.gif" alt="Wink" border="0"><br><br><br>Thank you again Cyberman and I expect we can compare the number of files for each entry.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_70989" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.2;msg=70989">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71003"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=109" title="View the profile of halkun">halkun</a></b>
							<div class="smalltext">
								Moderator<br>
								<img src="index.php_files/07.gif" alt="*" border="0"><br>
								Posts: 1684<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/image.jpg" alt="" class="avatar" border="0"></div><br>
								
								<a href="http://members.msn.com/halkun2002@msn.com" target="_blank"><img src="index.php_files/msntalk.gif" alt="halkun2002@msn.com" border="0"></a>
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=halkun2002"><img src="index.php_files/online.gif" alt="halkun2002" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=109"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://q-gears.sourceforge.net/" title="Q-Gears Homepage" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="mailto:halkun2002@yahoo.com"><img src="index.php_files/email_sm.gif" alt="Email" title="Email" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=109" title="Personal Message (Online)"><img src="index.php_files/im_on.gif" alt="Personal Message (Online)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71003#msg71003"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71003">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71003#msg71003">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #3 on:</b> 2006-04-23 18:42:16 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71003;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">AKAO
is related to sound. It's the name of Square's sound guy and has the
honor of even having a fieldscript command named after him.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71003" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.3;msg=71003">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71008"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=1504" title="View the profile of ChaosControl">ChaosControl</a></b>
							<div class="smalltext">
								Freak<br>
								<img src="index.php_files/06.gif" alt="*" border="0"><br>
								Posts: 693<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/Laguna2.gif" alt="" class="avatar" border="0"></div><br>
								
								<a href="http://members.msn.com/saiyadragonman@hotmail.com" target="_blank"><img src="index.php_files/msntalk.gif" alt="saiyadragonman@hotmail.com" border="0"></a>
								<a href="aim:goim?screenname=controlcloud&amp;message=Hi.+Are+you+there?"><img src="index.php_files/aim.gif" alt="controlcloud" border="0"></a>
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=1504"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=1504" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71008#msg71008"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71008">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71008#msg71008">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #4 on:</b> 2006-04-23 21:27:07 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71008;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><div class="quoteheader">Quote from: halkun</div><div class="quote">AKAO
is related to sound. It's the name of Square's sound guy and has the
honor of even having a fieldscript command named after him.</div><br>Wasn't the sound guy Nobuo Uematsu?</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71008" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.4;msg=71008">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="signature"></div>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71013"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71013#msg71013"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71013">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71013#msg71013">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #5 on:</b> 2006-04-23 22:28:24 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71013;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Thank
you, halkun. I thought that was the case so I decided to leave it for
later as I'm used to looking into graphics and code, not sound for the
Playstation. I'll read the document I found in the forums about the
sound chip.<br><br>chaoscontrol: He's refering to the sound programmer, not the music guy (composer.)</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71013" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.5;msg=71013">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71016"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71016#msg71016"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71016">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71016#msg71016">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #6 on:</b> 2006-04-24 06:19:53 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71016;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Well I have the root directory partially perusable I just haven't automatically identified files as yet. <br>Seems
the first file in the first directory is just the number 21 the second
file appears to be a debugging program because it sports text formating
information about disk changing and frames per second and triangle
drawing (hmmm).<br><br>That's about all for tonight <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br><br>Cyb<br><br>Here is what is currently viewable<br><img src="index.php_files/PSXVIEW_FF9_001.JPG" alt="" border="0"></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71016" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.6;msg=71016">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71036"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71036#msg71036"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71036">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71036#msg71036">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #7 on:</b> 2006-04-25 00:30:32 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71036;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Wow,
I wasn't expecting a full fledged application, but that looks great. :)
Look... I don't want trouble with the fans of the ff7 engine. ;)<br><br>So, we have different number of files in DIR01, but the other directories have the same number of files.<br><br>The
flags for the files in DIR00 are the same I have, but there are some
differences in the starting sectors, so there must be differences in
the sizes. Those must be files where localization was needed, but we
shouldn't have differences in most graphics, sound, etc.<br><br>Comparing the data for DIR00 I get:<br><br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;"><br>File &nbsp; &nbsp; Yours Mine SectorDiff SizeDiff<br>F&lt;00&gt;000 &nbsp; &nbsp;17 &nbsp; 17 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;+3<br>F&lt;00&gt;001 &nbsp; &nbsp;18 &nbsp; 21 &nbsp; &nbsp; 3 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;002 &nbsp; &nbsp;91 &nbsp; 94 &nbsp; &nbsp; 3 &nbsp; &nbsp; &nbsp; &nbsp;+2<br>F&lt;00&gt;003 &nbsp; 280 &nbsp;285 &nbsp; &nbsp; 5 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;004 &nbsp; 373 &nbsp;378 &nbsp; &nbsp; 5 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;005 &nbsp; 399 &nbsp;404 &nbsp; &nbsp; 5 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;006 &nbsp; 408 &nbsp;413 &nbsp; &nbsp; 5 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;007 &nbsp; 437 &nbsp;442 &nbsp; &nbsp; 5 &nbsp; &nbsp; &nbsp; &nbsp;-1<br>F&lt;00&gt;008 &nbsp; 465 &nbsp;469 &nbsp; &nbsp; 4 &nbsp; &nbsp; &nbsp; &nbsp;+3<br>F&lt;00&gt;009 &nbsp; 495 &nbsp;502 &nbsp; &nbsp; 7 &nbsp; &nbsp; &nbsp; &nbsp;+1<br>F&lt;00&gt;010 &nbsp; 502 &nbsp;510 &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;011 &nbsp; 516 &nbsp;524 &nbsp; &nbsp; 8 &nbsp; &nbsp; &nbsp; &nbsp;+2<br>F&lt;00&gt;012 &nbsp; 542 &nbsp;552 &nbsp; &nbsp;10 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;013 &nbsp; 549 &nbsp;559 &nbsp; &nbsp;10 &nbsp; &nbsp; &nbsp; &nbsp;+1<br>F&lt;00&gt;014 &nbsp; 578 &nbsp;589 &nbsp; &nbsp;11 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;015 &nbsp; 592 &nbsp;603 &nbsp; &nbsp;11 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;016 &nbsp; 606 &nbsp;617 &nbsp; &nbsp;11 &nbsp; &nbsp; &nbsp; &nbsp;+2<br>F&lt;00&gt;017 &nbsp; 635 &nbsp;648 &nbsp; &nbsp;13 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;018 &nbsp; 636 &nbsp;649 &nbsp; &nbsp;13 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;019 &nbsp; 654 &nbsp;667 &nbsp; &nbsp;13 &nbsp; &nbsp; &nbsp; &nbsp; 0<br>F&lt;00&gt;020 &nbsp; 671 &nbsp;684 &nbsp; &nbsp;13 &nbsp; &nbsp; &nbsp; &nbsp;???<br></pre></div><br><br>Some
of the files I have are bigger than yours. I think a sentence in
Spanish has a little bit more characters than a sentence in English,
but I couldn't find a reference to confirm this. And I don't see why an
image, even translated, would have a different size.<br><br>Are you
saying that F&lt;00&gt;000 has only a byte with value 0x15? Mine is a
little bit strange: It has some 'JFIF' tags and a few "Photoshop"
strings. JPEGs in the psx? I couldn't decompress them, but the headers
are similar to a JPEG.<br><br>I have the same kind of information as
you do in F&lt;00&gt;001. The strings are in English so they weren't
meant for translation and as you say, they show some debugging
information.<br><br><br>Most of the files in DIR00 start with an
identifier, followed by a table of values 0x80wwyyzz. Can these be
memory addresses from some sort of relocation table?<br><br><br>I think
I'll take a closer look at the files in DIR00. There are some images
not in TIM format in some of the files that may help classify them and
to find some pointers.<br><br><br><br>----------------------<br><br>I
looked into DIR00 for graphics and there is certainly a pattern. All
the images I found are noticeable in greyscale, but most of them have a
palette before the image and the greyscale value is the index. I'm
still trying to find height and width attributes.<br><br>It should be easy to figure out the purpose of some of the files.<br><br><br>F&lt;00&gt;007:<br>25 low contrast images. Chocograph targets. (width=42)<br><br>F&lt;00&gt;010:<br>Symbols for the cards game. (width=128)<br>Rose of the Winds. (width=84)<br><br>F&lt;00&gt;011:<br>Paper-like key item background. (width=88)<br><br>F&lt;00&gt;013:<br>Portraits of 10 characters. (width=32)<br>Animation. Passing pages of a book. (Accessing memory card.) (frames=4; total_width=176)<br><br>F&lt;00&gt;014:<br>Portraits of 13 characters. (width=32)<br><br>F&lt;00&gt;015:<br>Portraits of 13 characters. (width=32)<br><br>F&lt;00&gt;016:<br>Portraits of 13 characters. (width=32)<br>Right-Up/Right-Down arrows and 4 other symbols. (width=48)<br><br>F&lt;00&gt;018:<br>"Wrong disk!!" image. (width=194)<br><br>F&lt;00&gt;20:<br>"Level up!" image. (width=112)</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71036" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.7;msg=71036">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71039"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=948" title="View the profile of Zande">Zande</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 31<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/mog.jpg" alt="" class="avatar" border="0"></div><br>
								<a href="http://www.icq.com/whitepages/about_me.php?uin=7262418" target="_blank"><img src="index.php_files/online_004.gif" alt="7262418" border="0" height="18" width="18"></a>
								<a href="http://members.msn.com/loopooz@msn.com" target="_blank"><img src="index.php_files/msntalk.gif" alt="loopooz@msn.com" border="0"></a>
								<a href="aim:goim?screenname=The%2BHoly%2BMoogle&amp;message=Hi.+Are+you+there?"><img src="index.php_files/aim.gif" alt="The+Holy+Moogle" border="0"></a>
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=948"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=948" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71039#msg71039"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71039">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71039#msg71039">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #8 on:</b> 2006-04-25 08:25:56 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71039;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Oh, phun!<br><br>I haven't worked with the FF9 stuff for quite some, I gathered quite a bit of info around the data though!<br><br>Let see... I could post up some docs I made, but they're a mess. <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br>(I'll see if I can rewrite em into something usefull <img src="index.php_files/tongue.gif" alt="Tongue" border="0">).<br><br>Here's a short rundown of what's in some of the directories (you found out this already?):<br><br>&nbsp;0000 - Status/Menu/Battle/... -Text and random crap. ;P<br>&nbsp;0001 - Misc Images (Logos, Fonts, World 'mini' Map images, etc).<br>&nbsp;0002 - Dialog Text<br>&nbsp;0003 - Images (My docs doesn't say what kinda <img src="index.php_files/tongue.gif" alt="Tongue" border="0">).<br>&nbsp;0004 - Object/Supporting Characters Data<br>&nbsp;0005 - Monster Data (Part I, stats, names, etc).<br>&nbsp;0006 - Location Data (Dungeon, Cities, etc).<br>&nbsp;0007 - Monster Data (Part II, 3d models)<br>&nbsp;0008 - Weapon Data<br>&nbsp;0009 - Samplebanks and Sequencer Data (ie. ze music <img src="index.php_files/wink.gif" alt="Wink" border="0">).<br>&nbsp;0010 - Character Data<br>&nbsp;0011 - Sound effects<br>&nbsp;0012 - World Map Data (It's a guess, but I'm fairly sure).<br>&nbsp;0013 - Summon models/animation data, seems to differ quite a bit from the other DIRs.<br>&nbsp;0014 - Whatever...<br><br>That's about it I think, might give you and idea. ;P<br><br><br><br><div class="quoteheader">Quote</div><div class="quote"><br>tt=02 --&gt; 3D model (weapon, enemies, etc.) <br>tt=03 --&gt; Skins. (enemies) <br>tt=04 --&gt; Skins. (weapons) <br>tt=08 --&gt; AKAO? <br>tt=12 --&gt; AKAO? <br>tt=14 --&gt; End of AKAO? <br>tt=19 --&gt; <br>tt=1B --&gt; Sub-structure container. <br></div><br>Here's the chunk ID's I've found (there seems to be 0x1f, or 31, different chunk types):<br>0x02= 3d Model<br>0x03= Animations (Guess, hope it's a good guess <img src="index.php_files/tongue.gif" alt="Tongue" border="0">).<br>0x04= TIM (Images/Textures)<br>0x06= Text (Single Tile Encoded with commands)<br>0x07= Sequencer data (Mr. Akao's annoying format <img src="index.php_files/tongue.gif" alt="Tongue" border="0">).<br>0x08= Dunno, FM/Noise/Reverb settings? (as odd as all of Akao's formats)<br>0x09= Audio, 4bit (Sony) ADPCM with Akaos header.<br>0x10= Monster stats (HP, weakness etc), might contain other things aswell<br>0x1b= Pointer chunk (Doesn't contain any actuall data, just pointers to other chunks).<br><br>I thought I had more, but I guess I never wrote em down or I couldn't find them, have to dig thru all files.<br><br><br>I
got how sequncer, audio, text encoding and (most) commands, 3d models
(mostly) documented in either a sh*tty txt or c++ file (or both).<br>I'll
come back when I've check all the old data laying around on millions of
places of my discs. See if I can throw together some, more or less,
proper docs. <img src="index.php_files/tongue.gif" alt="Tongue" border="0"><br><br><br><br><a href="http://zine.mine.nu/beast.jpg" target="_blank">Think I posted this one sometime ago. <img src="index.php_files/tongue.gif" alt="Tongue" border="0"></a></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71039" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.8;msg=71039">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71052"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71052#msg71052"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71052">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71052#msg71052">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #9 on:</b> 2006-04-25 16:11:33 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71052;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Thank
you Zande, and my appologies... I said in my first post that I read
some posts by Cyberman and Zidane, but it was Zande. Sorry. I could
just as well have said Zorro. <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br><br>I
have some idea as to what is inside each directory, but not all the
entries. Your list is more complete than mine. This is the first psx
game I look into so I'm not too familiar with the structures. After
stripping off the TIMs I jumped directly to the weapon models that I
thought would be simple and then to the directories.<br><br>Entry 0012,
as you say is the World Map geometry. It's a little strange as there is
some redundancy and missing parts. I'll post more information when I
get home.<br><br>----------------- I'm home <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br><br>Zande,
what I didn't mention earlier is that I am interested in any
information I can get. I don't mind no mess as it can't be worst than
mine. <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br><br>I
don't remember seeing that model before, but it looks great. With bones
and all. (Mine are all "contractured". No bones.) I think I'll skip the
models then. Did you get to add the textures?<br><br><br>This is what I
have at the moment about the World Map. Its geometry is defined in
DIR12. There are 2 files and each one of them has more or less the same
information. I'll describe the first one, as the second one seems to be
transposed. Both of them are divided into sectors (0x800 bytes).<br><br>The
World is defined as a grid of 24 columns and 20 rows in the first file.
(The number of rows may differ a little because of rows full of water.
Should check the second file.) Each cell of the grid points to a block
and each block is divided into 4 meshes (2 meshes * 2 meshes).<br><br>The general structure is:<br>- Grid definition.<br>- Definition of blocks and texture groups.<br><br>The
first two sectors have the grid definition. They don't define the
dimensions for the grid and the data for the first cell can be found at
offset 0. At the moment, I'm not sure if each cell is defined by 4 or 8
bytes. To render a correct version of the map I assumed they are 8
bytes long:<br>(4 bytes) Reference to block, version 1.<br><br>(4 bytes) Reference to block, version 2.<br><br>Each
version may represent the state of a cell at a given moment: open
cave/closed cave, standing construction/destroyed construction, etc.
(Or perhaps &nbsp;some animation.) The few I checked had the
open/closed cave.<br><br>The way I rendered a version of the World Map
that makes sense is by rendering all the version 2 blocks. If version 1
blocks are used instead, the World is almost empty.<br><br>Each reference to a block is:<br>(2 bytes) Pointer to block. (Number of sector where block definition starts.)<br>(1 byte) &nbsp;Attribute1.<br>(1 byte) &nbsp;Attribute2.<br><br>The
blocks are ordered in the file starting with Chokobo's Paradise in the
top-left corner, then the rest of the cells of the first row, second
row, etc.; and so are the cells of the grid.<br><br>Note: A cell of the
grid may have more than one block associated, but only one is shown at
a given time when rendering the World.<br><br>If Attribute1==0, then
the cell is water without consideration for the block pointed to. If
Attribute1!=0, then the pointer to the block is used. I haven't figured
out any other meaning for Attribute1 nor Attribute2.<br><br>After the grid definition, come the blocks and some TIM textures in between a variable number of blocks. As an example:<br><br>Block-Block-Textures-Block-Block-Block-Block-Textures-Block-...<br><br><br>Each block has exactly 4 meshes arranged like this:<br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;"><br>+-------------+<br>|mesh0 | mesh1|<br>|------+------|<br>|mesh2 | mesh3|<br>+-------------+<br></pre></div><br><br>The definition for a block is (all pointers in bytes, not sectors, relative to offset 0 of block):<br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;"><br>(1 byte) 0x04<br>(1 byte) Unknown.<br>(1 byte) Unknown.<br>(1 byte) Unknown.<br>(4 bytes) Pointer to start of next block or texture group.<br>(4 bytes) Pointer to start of first mesh.<br>(4 bytes) Pointer to start of second mesh.<br>(4 bytes) Pointer to start of third mesh.<br>(4 bytes) Pointer to start of fourth mesh.<br>Start of first mesh:<br>&nbsp; (1 byte) Number of vertices.<br>&nbsp; (1 byte) Unknown.<br>&nbsp; (2 bytes) Number of triangles.<br>&nbsp; (4 bytes) Pointer to vertex data.<br>&nbsp; (4 bytes) Pointer to triangle data.<br>&nbsp; (20 bytes) Unknown.<br>&nbsp; (4 bytes) Unknown.<br>&nbsp; Start of vertex data for first mesh:<br>&nbsp; &nbsp; (2 bytes) Coordinate x. (Admits negative numbers.)<br>&nbsp; &nbsp; (2 bytes) Coordinate y. (Admits negative numbers.)<br>&nbsp; &nbsp; (2 bytes) Coordinate z. (Admits negative numbers.)<br>&nbsp; &nbsp; (2 bytes) Unknown.<br>&nbsp; &nbsp; ... (Repeat for each vertex.)<br>&nbsp; Start of triangle data for first mesh:<br>&nbsp; &nbsp; (1 byte) Index of first vertex.<br>&nbsp; &nbsp; (1 byte) Index of second vertex.<br>&nbsp; &nbsp; (1 byte) Index of third vertex.<br>&nbsp; &nbsp; (1 byte) Unknown.<br>&nbsp; &nbsp; (1 byte) Coordinate u in texture for the first vertex.<br>&nbsp; &nbsp; (1 byte) Coordinate v in texture for the first vertex.<br>&nbsp; &nbsp; (2 bytes) Unknown.<br>&nbsp; &nbsp; (1 byte) Coordinate u in texture for the second vertex.<br>&nbsp; &nbsp; (1 byte) Coordinate v in texture for the second vertex.<br>&nbsp; &nbsp; (2 bytes) Unknown.<br>&nbsp; &nbsp; (1 byte) Coordinate u in texture for the third vertex.<br>&nbsp; &nbsp; (1 byte) Coordinate v in texture for the third vertex.<br>&nbsp; &nbsp; (2 bytes) Unknown.<br>&nbsp; &nbsp; ... (Repeat for each triangle.)<br>Start of second mesh:<br>&nbsp; ... (Idem first mesh.)<br>Start of third mesh:<br>&nbsp; ... (Idem first mesh.)<br>Start of fourth mesh:<br>&nbsp; ... (Idem first mesh.)<br>Zero padded up to end of sector.<br></pre></div><br><br>Each mesh has a rectangular proyection on the base, but they aren't limited to concave/convex surfaces.<br>I haven't figured out the association between triangles and textures yet. I should install epsxe to watch the vram.<br><br><br>Texture groups have this structure:<br>(4 bytes) Number of textures.<br>(4 bytes) Pointer to first texture.<br>... Ponters to more textures.<br>First texture. (TIM)<br>... More textures. (TIM)<br><br><br>I
estimate the in-game field of vision should be of 5*5 square blocks,
with the protagonist in the center. Perhaps a little wider in higher
places. That's the approximate distance where the fog makes it
impossible to see the mountains.<br><br>I'm having problems with the
rendering of locations like cities, etc. as there is a hole instead.
Perhaps the model for the cities is somewhere else or I'm making some
mistake.<br><br>I also found some kind of correlation I still haven't
figured out: The texture groups seem to be near the cities or places of
interest.<br><br>I hope you don't mind there is some especulation in
what I describe. I'll try to get one of those services to upload some
images soon.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71052" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.9;msg=71052">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71085"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=948" title="View the profile of Zande">Zande</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 31<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/mog.jpg" alt="" class="avatar" border="0"></div><br>
								<a href="http://www.icq.com/whitepages/about_me.php?uin=7262418" target="_blank"><img src="index.php_files/online_004.gif" alt="7262418" border="0" height="18" width="18"></a>
								<a href="http://members.msn.com/loopooz@msn.com" target="_blank"><img src="index.php_files/msntalk.gif" alt="loopooz@msn.com" border="0"></a>
								<a href="aim:goim?screenname=The%2BHoly%2BMoogle&amp;message=Hi.+Are+you+there?"><img src="index.php_files/aim.gif" alt="The+Holy+Moogle" border="0"></a>
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=948"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=948" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71085#msg71085"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71085">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71085#msg71085">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #10 on:</b> 2006-04-26 13:25:43 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71085;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><div class="quoteheader">Quote</div><div class="quote">Thank
you Zande, and my appologies... I said in my first post that I read
some posts by Cyberman and Zidane, but it was Zande. Sorry. I could
just as well have said Zorro.</div><br>Oh, I didn't even noticed, just skimmed thru the posts @ work. No problem though. <img src="index.php_files/wink.gif" alt="Wink" border="0"><br><br><div class="quoteheader">Quote</div><div class="quote">Did you get to add the textures?</div><br>Yea, I got the textures + mapping to work with the models.<br>Not
that particular model though, as you might see it's the summon Fenrir,
the summon data is stored in the directory 13 which is really odd (like
0xff as padding instead of 0x00??).<br><br><br><br>The world map information is interesting, don't have time to read it thru deeply at the moment, I'll do it later.<br><br>A
little note though, my docs says there's both triangle and quadrange
polygons. The world map might aswell have, or I might be wrong. Other
3d models have both triangle and quadrangle polygons (and there's
actually 3 different types of each).</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71085" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.10;msg=71085">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71101"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71101#msg71101"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71101">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71101#msg71101">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #11 on:</b> 2006-04-26 22:49:38 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71101;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><div class="quoteheader">Quote</div><div class="quote"><br>A
little note though, my docs says there's both triangle and quadrange
polygons. The world map might aswell have, or I might be wrong. Other
3d models have both triangle and quadrangle polygons (and there's
actually 3 different types of each).<br></div><br><br>I found triangles
and quadrangles in the models for weapons and enemies, but &nbsp;I
don't understand when you say there are 3 different types. Do you mean
they are arranged in different ways or are you refering to some other
attribute?<br><br>Anyway, what you said about quadrangles made me look
a little better into the World Map and I had a bug in the code that
made holes appear where cities should be. I was taking the number of
triangles as a 1 byte value instead of 2 bytes as documented above. I
was missing 256 triangles in complex meshes.<br><br>I think I also found the relation between the textures and the cities, but that's for another moment.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71101" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.11;msg=71101">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71108"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=948" title="View the profile of Zande">Zande</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 31<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/mog.jpg" alt="" class="avatar" border="0"></div><br>
								<a href="http://www.icq.com/whitepages/about_me.php?uin=7262418" target="_blank"><img src="index.php_files/online_004.gif" alt="7262418" border="0" height="18" width="18"></a>
								<a href="http://members.msn.com/loopooz@msn.com" target="_blank"><img src="index.php_files/msntalk.gif" alt="loopooz@msn.com" border="0"></a>
								<a href="aim:goim?screenname=The%2BHoly%2BMoogle&amp;message=Hi.+Are+you+there?"><img src="index.php_files/aim.gif" alt="The+Holy+Moogle" border="0"></a>
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=948"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=948" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71108#msg71108"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71108">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71108#msg71108">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #12 on:</b> 2006-04-27 06:22:24 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71108;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><div class="quoteheader">Quote</div><div class="quote">I
found triangles and quadrangles in the models for weapons and enemies,
but I don't understand when you say there are 3 different types. Do you
mean they are arranged in different ways or are you refering to some
other attribute?</div>Yeah, the data is slightly different. Nevermind though, the "normal" ones are most common, the other are not used too much.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71108" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.12;msg=71108">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71129"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71129#msg71129"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71129">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71129#msg71129">Dialog Files</a>
									</div>
									<div class="smalltext"> <b>Reply #13 on:</b> 2006-04-27 20:04:03 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71129;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">These are more likely to be script information than just dialog <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br><br>This
means they likely have window and various other symbol information
embeded into them. &nbsp;Fortunately I've no problem reading the dialog
(because of my cute app).<br><br>I'll have to explore the DB XX XX etc thing more.<br>I
think you should think of most data as 32 bit aligned also. In any case
I'll see what I can find out based on that. Sheesh you folks are
already twiddling with complete 3d data (sigh). I'm getting old <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br><br>Cyb</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71129" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.13;msg=71129">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71163"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71163#msg71163"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71163">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71163#msg71163">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #14 on:</b> 2006-04-28 19:20:58 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71163;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><div class="quoteheader">Quote from: Tonberry</div><div class="quote">Most
of the files in DIR00 start with an identifier, followed by a table of
values 0x80wwyyzz. Can these be memory addresses from some sort of
relocation table?</div>The playstation uses memory locations 0x80XXXXXX
internally as 'system'/ user memory. These are likely load locations
for data or program code. &nbsp;<br><br>Also it is very unlikely they
used anything other than TIM's for images. As they had to use the PsyQ
library. &nbsp;They could use JPEG images possibly however there was no
reason to do this. From my sccanning of the data originally that was on
the disk all image data is stored as TIM's including the field
background images. So as I said.. it's not likely image data at all.<br><br>In
addition to all that, you need to consider the playstation is a 32 bit
machine. &nbsp;This is why you have so many uknowns in your world map.
&nbsp;This is because ALL the data is likely 32 bit aligned or double
word aligned. Furthermore the playstation information tends to be
little endian so for example you mesh data begins with 0x04 ZZ ZZ ZZ
well it's likely it's just a double word of 0x04 instead.<br>Geometry data tends to be double word aligned because of the playstations GTE and GPU (32 bit DMA)<br>The
Vertex data is X Y Z U (U being unused) probably. &nbsp;You will notice
they pad the UV coordinates with a word sized chunk of data.<br><br>Cyb</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71163" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.14;msg=71163">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71192"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71192#msg71192"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71192">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71192#msg71192">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #15 on:</b> 2006-04-29 02:33:35 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71192;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><div class="quoteheader">Quote</div><div class="quote"><br>Also
it is very unlikely they used anything other than TIM's for images. As
they had to use the PsyQ library. They could use JPEG images possibly
however there was no reason to do this. From my sccanning of the data
originally that was on the disk all image data is stored as TIM's
including the field background images. So as I said.. it's not likely
image data at all. <br></div><br><br>Well, it must be that I have the
wrong definition of TIM. As I said this is the first time I look into a
psx game. The idea I got from reading some documents in the Web is that
they have a header starting with 0x00000010, followed by the color
format (2, 3, 8 or 9), ..., cluts, ..., color information (RGB or index
to clut depending on color format). The first routines I made read this
data and converted them to BMP. Am I wrong up to this point?<br><br>Then
I wrote some other routines to convert the bytes in a generic file to
grayscale pixels, allowing to resize in the X dimension. With this I
found some other images I wasn't able to find with the first routines;
I looked in an hex editor and they didn't have the header described
above, so I called them non-TIM. Perhaps they are TIMs without a header?<br><br>If that's the case, I'm sorry I didn't research more. Can you recomend a doc?<br><br>The
first image I found with the header is the one with the letters,
numbers, kanji, etc. The first images I found without the header were
the ones I described in a previous post.<br><br><br>About the 32-bit
alignment, I know what you mean, and I think you don't understand the
meaning of the byte/unknown thing because I never told you about it.<br><br>I
know the psx is a 32-bit machine so the first thing I would do is try
to align the data to 32-bit boundaries. I'm not trying to do a byte by
byte description of the structures.<br><br>The "0x04 ZZ ZZ ZZ" is not
0x00000004 as I described it above. It is in *most* blocks of the World
Map, but not in some of them; especially the ones that are immediately
before a image group. (Bytes at offset 1 and 2 seem to have independant
meaning.)<br>What I'm sure about is that byte 0x04 is allways present
at offset 0, that offset 1 and 2 are mostly 0, that they don't seem to
depend one on the other, and that I don't know what they mean.<br><br>Another
example is the "number of vertices/number of triangles" word. I'm
almost sure you'd be tempted to take the byte I marked as unknown and
make half a word with the "number of vertices". I did that at first,
but when I kept on looking, I found some blocks that where generating
vertices' coordinates with information that was clearly triangle data.<br>The
bug I had with the triangles was because I didn't look at the messy
docs I had when programming that bit. I did it on memory and thought
the triangles where 1 byte also. (I even padded to the next word.)<br><br>The
20 bytes I marked as unknown, I did because of lazyness and because I
didn't see a clear separation between them. The next 4 bytes I marked
as unknown, I did because they were clearly appart from the previous 20
bytes.<br><br>Sorry again I didn't explain everything, but althogh I'm
a newbie in the psx "deconstruction", I'm from the zxSpectrum
"deconstruction" ages and I've been doing it for 13 years in the PC and
some other minor platforms.<br>(Yes, I know it's not right to talk
about oneself, especially without proof, but at least that could give
you an idea of what to expect.)<br><br>I'll try to add all the
information and little quirks I find in the structures, but as I said,
I'm a little messy with the docs and I take some things for granted.<br><br>Some of the quirks I didn't mention are:<br>- The easy way to find the end of the last file in a directory. (But I'd say you already figured that out.)<br>- That there is a block in the World Map that is all 0x0. It doesn't even have the 0x04 at offset 0. (I simply skip it.)<br>- That you can have image groups with 4 images, so you'll have to watch out not to interpret them as block definitions.<br><br><br>About
the World Map, I didn't have much time these days and I haven't even
made the first texture appear on the screen, but I did some
"hand-mapping" (don't even expect 1FPS.) Image groups seem to be loaded
into memory in a rectangle of 128*256 pixels where the images in the
group are arranged. They seem to be loaded dynamically when rendering a
city.<br>I think I'll shut up about the World Map until I'm able to show a textured city. <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71192" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.15;msg=71192">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71200"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71200#msg71200"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71200">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71200#msg71200">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #16 on:</b> 2006-04-29 05:13:44 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71200;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><div class="quoteheader">Quote from: Tonberry</div><div class="quote">Well,
it must be that I have the wrong definition of TIM. As I said this is
the first time I look into a psx game. The idea I got from reading some
documents in the Web is that they have a header starting with
0x00000010, followed by the color format (2, 3, 8 or 9), ..., cluts,
..., color information (RGB or index to clut depending on color
format). The first routines I made read this data and converted them to
BMP. Am I wrong up to this point?</div> <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"> 2 3 8 9 are not the correct format info. <br>0
1 2 3 (4/8/16/24) bits respectively with the high order bit of the
nybble indicating if it has a palette or not. &nbsp;4/8 bit TIMs do not
require a palette. Just that they be loaded in the correct location of
memory. &nbsp;Decoding on a TIM for paletted data is application
specific. &nbsp;IE the palette is optional.<br><br><div class="quoteheader">Quote from: Tonberry</div><div class="quote">Then
I wrote some other routines to convert the bytes in a generic file to
grayscale pixels, allowing to resize in the X dimension. With this I
found some other images I wasn't able to find with the first routines;
I looked in an hex editor and they didn't have the header described
above, so I called them non-TIM. Perhaps they are TIMs without a header?</div>
This may be the case as this is what Square used in FF7 (files labeled
MIM on the FF7 disk are multi image Tims). &nbsp;All background data
however does have TIM's for there image. &nbsp;of course I can accept
easily if I'm wrong on this as well LOL!<br><div class="quoteheader">Quote from: Tonberry</div><div class="quote">If that's the case, I'm sorry I didn't research more. Can you recomend a doc?</div> I think the <a href="http://wiki.qhimm.com/FF7/Field_Module#PSX_MIM_Format" target="_blank">MIM format is discused in the qhimm wiki </a> data for FF7. I'm going to slowly put FF9 data in there and hopefully FF8 data as well. <br><br><div class="quoteheader">Quote from: Tonberry</div><div class="quote">The
first image I found with the header is the one with the letters,
numbers, kanji, etc. The first images I found without the header were
the ones I described in a previous post.</div> headerless isn't surprising really. &nbsp;Though do you recall what the images were?<br><br><div class="quoteheader">Quote from: Tonberry</div><div class="quote">About
the 32-bit alignment, I know what you mean, and I think you don't
understand the meaning of the byte/unknown thing because I never told
you about it.</div> Doh <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"> Ok that would do it.<br><br><div class="quoteheader">Quote from: Tonberry</div><div class="quote">I
know the psx is a 32-bit machine so the first thing I would do is try
to align the data to 32-bit boundaries. I'm not trying to do a byte by
byte description of the structures.<br><br>The "0x04 ZZ ZZ ZZ" is not
0x00000004 as I described it above. It is in *most* blocks of the World
Map, but not in some of them; especially the ones that are immediately
before a image group. (Bytes at offset 1 and 2 seem to have independant
meaning.)<br>What I'm sure about is that byte 0x04 is allways present
at offset 0, that offset 1 and 2 are mostly 0, that they don't seem to
depend one on the other, and that I don't know what they mean.<br><br>Another
example is the "number of vertices/number of triangles" word. I'm
almost sure you'd be tempted to take the byte I marked as unknown and
make half a word with the "number of vertices". I did that at first,
but when I kept on looking, I found some blocks that where generating
vertices' coordinates with information that was clearly triangle data.<br>The
bug I had with the triangles was because I didn't look at the messy
docs I had when programming that bit. I did it on memory and thought
the triangles where 1 byte also. (I even padded to the next word.)<br><br>The
20 bytes I marked as unknown, I did because of lazyness and because I
didn't see a clear separation between them. The next 4 bytes I marked
as unknown, I did because they were clearly appart from the previous 20
bytes.<br><br>Sorry again I didn't explain everything, but althogh I'm
a newbie in the psx "deconstruction", I'm from the zxSpectrum
"deconstruction" ages and I've been doing it for 13 years in the PC and
some other minor platforms.<br>(Yes, I know it's not right to talk
about oneself, especially without proof, but at least that could give
you an idea of what to expect.)<br><br>I'll try to add all the
information and little quirks I find in the structures, but as I said,
I'm a little messy with the docs and I take some things for granted.<br><br>Some of the quirks I didn't mention are:<br>- The easy way to find the end of the last file in a directory. (But I'd say you already figured that out.)<br>- That there is a block in the World Map that is all 0x0. It doesn't even have the 0x04 at offset 0. (I simply skip it.)<br>- That you can have image groups with 4 images, so you'll have to watch out not to interpret them as block definitions.<br><br><br>About
the World Map, I didn't have much time these days and I haven't even
made the first texture appear on the screen, but I did some
"hand-mapping" (don't even expect 1FPS.) Image groups seem to be loaded
into memory in a rectangle of 128*256 pixels where the images in the
group are arranged. They seem to be loaded dynamically when rendering a
city.<br>I think I'll shut up about the World Map until I'm able to show a textured city. <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"></div><br>Hey
the more you give the better it is for me. &nbsp;I think there are 2
world maps for a reason. &nbsp;One is a 'walking' scale and the other
is a flying scale. The world is shrunk if you use an airship visually.
&nbsp;I'll also help beat the information into a nice readable format
(check the wiki some).<br><br>Side note, FF9 is probably one of the
more visually detailed FF's. &nbsp;I think in the world map area's
you'll notice they include anything flying in the air and chocobo's
possibly as well. I've noticed that there is texture data for little
airships and chocobo's in the IMG file.<br><br>Cyb</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71200" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.16;msg=71200">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71232"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71232#msg71232"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71232">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71232#msg71232">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #17 on:</b> 2006-04-29 21:58:38 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71232;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Thank you Cyberman. I'll take a look at the MIM format.<br><br><br><div class="quoteheader">Quote</div><div class="quote"><br>&nbsp;headerless isn't surprising really. Though do you recall what the images were? <br></div><br><br>I'll
try to classify all the images I found and associate them to files and
directories. It will take me some time, but if you are interested in
the ones I described as non-TIM, you can take a look at DIR00. I
described all the images I found in that directory. You can find that
info in the eighth post of this thread, but I'll make a little recount:
(I used your filename nomenclature and all widths are in pixels.)<br><br>They
seem to be all images that appear in the menus/mini-games options and
they are logically grouped in each file, so I assume they give
information on what to expect to find in each file.<br><br><div class="quoteheader">Quote</div><div class="quote"><br>F&lt;00&gt;007:<br>25 low contrast images. Chocograph targets. (width=42) <br></div><br><br>I
meant, the little images that tell you where to find goodies in the
world with the chocobos. I said "low contrast" because I was looking to
them in grayscale and they have a palette with few colors, so in
grayscale they look almost black. (I added an inverse look up "feature"
to the application as it's easier to see them with a white background.)
I remember I added the corresponding palettes some time ago and the
colors where right.<br>Just look into file 007 of DIR00.<br><br><br>In
file 008 you can find some symbols and backgrounds used in the card
game, so I'd expect the rest of the file has instructions or something
related to the card game.<br><br><br><div class="quoteheader">Quote</div><div class="quote"><br>F&lt;00&gt;011:<br>Paper-like key item background. (width=88 ) <br></div><br><br>This
file has only 1 image (that I was able to find) with the background
where characters are displayed when you read a letter you got from
someone, the ticket Vivi has when you start the game, and any other key
item. (Maybe the name in English isn't "key item"?)<br><br><div class="quoteheader">Quote</div><div class="quote"><br>F&lt;00&gt;013:<br>Portraits of 10 characters. (width=32)<br>Animation. Passing pages of a book. (Accessing memory card.) (frames=4; total_width=176)<br></div><br><br>When
I say portraits, I mean the head/face of the characters that apper in
the menus. (By character in this context I mean Zidane, Vivi, etc., not
letters and numbers.)<br>If you notice, when you are about to save and
you access a memory card there is a book that passes some pages as if
you were reading them. That's what I meant about the animation.<br>As
the file seems to be related to file loading/saving, I'd say that the
portraits are of the characters you have the possibility to save games
with.<br>I don't remember if the number is limited to 10 characters when saving.<br><br><br><div class="quoteheader">Quote</div><div class="quote"><br>F&lt;00&gt;014:<br>Portraits of 13 characters. (width=32)<br><br>F&lt;00&gt;015:<br>Portraits of 13 characters. (width=32) <br></div><br><br>I
only found images for characters' heads/faces so I don't know what they
are for, but I'm pretty sure they are part of the menus as they look
exactly like the 10 above.<br><br><div class="quoteheader">Quote</div><div class="quote"><br>F&lt;00&gt;016:<br>Portraits of 13 characters. (width=32)<br>Right-Up/Right-Down arrows and 4 other symbols. (width=48 )<br></div><br><br>The
portraits are the same as above, and I didn't recognize the arrows at
first, but all are symbols shown when you buy/sell stuff. The arrows
tell if a particular character would be at an advantage/disadvantage if
it equips a given armor/weapon/item.<br>So, file 016 must be related to the buy/sell stuff.<br><br><div class="quoteheader">Quote</div><div class="quote"><br>F&lt;00&gt;018:<br>"Wrong disk!!" image. (width=194 ) <br></div><br><br>This one has an image that tells you to put the right disk in the drive. So it must be related to disk management.<br><br><div class="quoteheader">Quote</div><div class="quote"><br>F&lt;00&gt;20:<br>"Level up!" image. (width=112)<br></div><br><br>This one is the little text that appears over the characters that leveled up after a battle.<br><br><br>If
you found any of those images in DIR00 (or much less likely in other
directory) I'd say it's a mistake I made because I didn't know the TIM
format as I should.<br><br><br>About the cards' monsters, world
textures, weapon textures, enemies textures, field backgound/character
textures, palettes and some other I have them as TIM with the header,
just as you mention. I'll document it.<br>I have as non-TIM the images
of the last directory, where Zande said there was summon data and I
mentioned there where little stars and thunder (lightning really - I
messed up there. Although there are AKAO bits there.)<br><br><br><div class="quoteheader">Quote</div><div class="quote"><br>Hey the more you give the better it is for me.<br></div><br><br>Well,
I didn't say anything because I took it for granted, so that's my
fault. I don't usually explain every bit of info I don't know unless I
have a feeling of what it is and that's not the case with the fields in
the structure above.<br><br>I'd say the more we give the better for everyone. <img src="index.php_files/smiley.gif" alt="Smiley" border="0">
The reason I started working on ff9.img is because I couldn't find
tools to look at the models, scenery, etc. There was little info, also.
Not that I would do anything with the data, just to look what's in
there. I'll probably drop it as soon as I lose interest, but at least I
think there is some movement forward. <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br><br>Anyway, I'd like to ask if you have any objective for this data. Not that I mind, just curious.<br><br>Some
other thing I forgot to mention is that the padding for the u,v texture
coordinates isn't always 0x0000. I won't know what they mean until I
have some textures in the world.<br><br><br><div class="quoteheader">Quote</div><div class="quote"><br>I
think there are 2 world maps for a reason. One is a 'walking' scale and
the other is a flying scale. The world is shrunk if you use an airship
visually. I'll also help beat the information into a nice readable
format (check the wiki some).<br></div><br><br>That's possible. I think
the world in the second file is transposed to the first file (but maybe
it's rotated 90 degrees.) That would make it unnecesarilly complicated
to associate data from one file to the other. But who knows, it seems
to be an optimization as you say.<br>It's been a long time since I
played the game and I lost all the savegames so I don't remember quite
well but wasn't there a strange movement when you entered the airship?
(I'm slowly starting to play again.)<br><br>That would be great if you entered information in the wiki as I looked there a few weeks ago and didn't find anything on ff9.<br><br><br><div class="quoteheader">Quote</div><div class="quote"><br>Side
note, FF9 is probably one of the more visually detailed FF's. I think
in the world map area's you'll notice they include anything flying in
the air and chocobo's possibly as well. I've noticed that there is
texture data for little airships and chocobo's in the IMG file. <br></div><br><br>I
remember those images. There are some that include a small Zidane skin
(for the World Map), along with chocobo's and moogle's (the one that
lets you save the game.) The little airships are the ones you see when
you exit the ice cave, near Dali. (I just got there.)<br><br>About the
textures, I think the World Map files only include textures for the
buildings and some details, but I found lots of terrain/building TIMs
into file 021 of DIR01 or somewhere near. I don't know if they are used
for the World Map, for the battles, or maybe both, but that would
explain the lack of textures in the World Map files. (Most common
textures accessible to the World, not so common textures accessible to
the continents and less common defined near cities, etc.)<br>I even saw
scaled textures so the World rendering is surelly optimized to account
for the distance to the camera, but then, this is pretty common.<br><br>And I said I wasn't going to mention the WM. <img src="index.php_files/smiley.gif" alt="Smiley" border="0"></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71232" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.17;msg=71232">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71241"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71241#msg71241"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71241">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71241#msg71241">Hmmm fun stuff (not)</a>
									</div>
									<div class="smalltext"> <b>Reply #18 on:</b> 2006-04-30 04:31:28 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71241;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Looks like my FF9 perusing code is going to get complicated by the DB NN 00 00 thing.<br>So
here is what I currently going to do. Files that begin with DB and have
more than one section I am going to add as a subdirectory in my tree
view. &nbsp;This will make things look stranger but hey.. <br><br>What
does make sense is that the files begining with DB are likely to be
loaded into memory as is. If none are &gt; 1 meg in size that is.
&nbsp;It makes sense to have the data with type and offset information.
It's likely a load format.<br>It means I also need to add cute folder Icons and such for the tree view section.<br>Why
all this whining? Well I can't identify any of the file types because
few are a single object in the group of data. &nbsp;So I'm going to
have to think things through. So far I have a mess, I don't like messes
(surprised?)<br><br>I have to get up early.. so I'll twiddle tomorrow.
&nbsp;For model construction is there a a set of vertexs and bones with
seperate animation controls?<br><br>Cyb<br><br>PS I noticed FF9's
program size is almost 2 megs which is the entire PS1 user memory. I
suspect this means it reads chunks of it'self from the disk on ocassion.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71241" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.18;msg=71241">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71255"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=109" title="View the profile of halkun">halkun</a></b>
							<div class="smalltext">
								Moderator<br>
								<img src="index.php_files/07.gif" alt="*" border="0"><br>
								Posts: 1684<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/image.jpg" alt="" class="avatar" border="0"></div><br>
								
								<a href="http://members.msn.com/halkun2002@msn.com" target="_blank"><img src="index.php_files/msntalk.gif" alt="halkun2002@msn.com" border="0"></a>
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=halkun2002"><img src="index.php_files/online.gif" alt="halkun2002" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=109"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://q-gears.sourceforge.net/" title="Q-Gears Homepage" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="mailto:halkun2002@yahoo.com"><img src="index.php_files/email_sm.gif" alt="Email" title="Email" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=109" title="Personal Message (Online)"><img src="index.php_files/im_on.gif" alt="Personal Message (Online)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71255#msg71255"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71255">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71255#msg71255">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #19 on:</b> 2006-04-30 17:09:57 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71255;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">I'm going to brush off my theory hat. This has helped with poor souls stuck in the past.<br><br>The
program flow for any Final fantasy game up to and including 9 uses the
same module system. These all use the same codebase, or design
pholosophy with some tweaks. 10 had a massive rewrite of the field
module, a new "cinamatic" module added, and the worldmap was reduced,
and battle was coupled more tightly to the modules.<br><br>Anyway.<br><br>Blindly
guessing, not having a FF9 disk in front to me, you have to therorize
that FF9 executes much like it's Final Fantasy brothers and sisters of
the past. Start at the top level and work your way down.<br><br>We know
that Square like st seperate it's system and give each section to
deveopment teams. So you break out battle, menu, field, minigame, and
worldmap.<br><br>Careful with minigame though, a lot of minigames are
written in field script, which are a part of field. In FF7. the CPR
game, Chocobo breeding game, and some puzzles are examples of this.
(Also of note, the "wandering in the snowstorm/plant posts to keep
yourself stright" game is actually a worldmap minigame...)<br><br>The icons save to the memory card are "almost tims" and very tiny. They are in the menu system.<br><br>Keep
in mind. The Menu module is probably the most core system to the game,
second to the kernel and above field. It's the global variable manager,
and is responsable for save/loading of data. It itself is broken into
sub modules that are staticly pasted into memory. (This has been the
same Modulus Operondi for 7 and 6)<br><br>Fieldscript, save for it's 3d
functions, is the same as FF6, and was only slightly tweaked for FF8.
The commands, from what very liittle poking I have found, are the same
for FF8, PE, and most likely FF9 as well. (Is there a debug room for 9,
or did square finally remove that from production releases?) 8 and 7's
"Startmap" ,the inital debug room, is set up exactly the same (0,0,0
camera and 0,0,0 character position)<br><br>The upshot....<br><br>Somewhere
in that blob of data is a "kernel.bin" that has inital savemap info
plus a "start game" overwrite. (The inital savemap should drop you into
the debug room, while the overwrite starts the inital fieldscript for
the game)<br><br>Look for zgip headers, they start with
0x1F8B080000000000, actually, the "magic number" is 0x1F8B, but exsize
that out if you see it, uncompress it, and se what's inside.<br><br>Many
times the polygon headers are actually GPU command headers, cross
refrence with my PSX tech docm looking in the GPU section. In FF8 the
ploygons were defined by "blank" gpu commands. (Missing rotation data,
which would be supplied by the GTE during the creation of the OT for
DME to the GPU)<br><br>Oops, Let me retranslate that....<br><br>When a
PSX renders 3d stuff to the screen it has to go though the GPU. This
can be done by directly sending a packet via hardware registers, which
is slow, or though Direct Memory Access -&gt;(DME). If you do a DME
transfer, a real keen way is to line your GPU packets up in a linked
list, sorted by depth. These sorted linked lists are called "ordering
tables" -&gt;(OT) and are sorted by an algo by depth on the Z access.
An efficent way to get a model into the GPU as fast as possable is to
have a model pre-made of GPU packets in a psudo-linked list with the
GTE rotation data missing. During the GPU "kick" each packet has it's
GTE data put in, sorted by Z depth, and then the whole Linked list is
fired off to the GPU for rendering via DME.<br><br>(wow, it almost seems like I know what I'm talking about)<br><br>So here's some tips.<br><br>1. Look for PsyQ headers (TIM, SEQ, VAG)<br><br>2. Look for gzip headers<br><br>3. Look for GPU packets.<br><br>4.
The system was broken to descrete parts during deveopment, they are
"self contained" for the most part. You will rarely see data of one
module bleeding into another. Find the boundries. Think in terms of
what programmer was responsable for what part. Assume the only talked
to each other at tame-wasting meetings every so often, and only to give
update on how thier module is going.<br><br>I don't think I answered your questions. But That ws really fun to write.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71255" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.19;msg=71255">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71280"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71280#msg71280"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71280">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71280#msg71280">ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #20 on:</b> 2006-04-30 23:45:28 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71280;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">I
was able to add some textures to the WM, not like I wanted to but they
don't look too bad. Especially considering I like the CAD/technological
look. <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br><br>I posted 3 images to the trash bin provided by mirex (Thank you!), so they'll probably disapear.<br><br>In the first one you'll see the landscape near Esto Gaza and Shimmering Island.<br><br><a href="http://bin.mypage.sk/FILES/FF9_WM1.GIF" target="_blank">http://bin.mypage.sk/FILES/FF9_WM1.GIF</a><br><br><br>In the second one you'll see the Lifa Tree.<br><br><a href="http://bin.mypage.sk/FILES/FF9_WM2.GIF" target="_blank">http://bin.mypage.sk/FILES/FF9_WM2.GIF</a><br><br><br>In the third one, some texture mapping.<br><br><a href="http://bin.mypage.sk/FILES/FF9_WM4.JPG" target="_blank">http://bin.mypage.sk/FILES/FF9_WM4.JPG</a><br><br>You'll
notice it doesn't look right, but look closer at Dali, the Observatory
and that landing circle in between and you'll see the mapping is right.<br><br>Now, to work on the proper textures, as there are lot of problems.<br><br><br>----------------------------------<br><br><br>Cyberman,
besides what halkun sugested (looking for known headers, with which I
can't help much and looking for modules which is what I've been trying
to do), I'd sugest you take your time to classify things. I'll tell you
the way I started with all this in the hope that it may be useful;
maybe you did the same and think it's obvious, but I don't know. <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br><br>1 - Look for files and directories. Didn't work.<br>2 - Look for TIMs. Found a lot, grouped logically.<br>3 - Create 1 file for each block of unknown data; that is, the parts that weren't TIMs.<br>4 - Look for images without header. It's time consuming, but helpful.<br>5
- Take a look at 4 or 5 files with unknown data that are near a group
of TIMs or headerless images and compare. (This was when I noticed the
DB NN 00 00s and some of them aligned to 0x800 bytes.)<br>6 - Take the
group of files that seem easier/shorter than the others and study them
deeper. (I decided to go with the info near TIMs of weapons, as they
wouldn't have animation.)<br>7 - Look deeper into the DB NN 00 00 stuff for weapons. I found lots of unknowns, but also a lot of similar data.<br>8
- See if similar data is near pointers in header. This, with the
presumption that there weren't overlaping sections was extremelly
useful to further subdivide the DB NN 00 00. There I found vertices,
triangles, texture mapping and some blocks with the AKAO string. I was
able to make sense of the geometry, but not from the AKAO thing.<br>9 - Look in Internet for AKAO. Not many results on data format, but many about the sound programmer for FF games. <img src="index.php_files/smiley.gif" alt="Smiley" border="0"> Leave for later.<br>10
- Once with the model for weapons "complete", look near enemies' TIMs.
I recognized a lot of the structures as they were the same as the
weapons'. (At this moment I found a lot of DB NN 00 00s.)<br>11 - Dump
the first 64/128/whatever number of bytes of the ff9.img starting with
DB NN 00 00. I grouped them by the NN and I finally understood them.<br>12 - Take the previous unordered dump and look for containers.<br>13 - I found the biggest container for every weapon and enemy, and noticed every container was bound to 0x800.<br>14 - Look for files and directories with this extra info. Eureka!<br><br>The rest is pretty obvious: Separate the files found and do some checking.<br><br><br>The thing is I started trying to reduce things from the whole, but ended up making some "holes" and building from that.<br>I
also started very orderly, but I had to rewrite so many times the code
when I discovered something new that I decided it was no use. I was
spending more time writing code than looking for things. <img src="index.php_files/sad.gif" alt="Sad" border="0"><br><br><br><div class="quoteheader">Quote</div><div class="quote"><br>For model construction is there a a set of vertexs and bones with seperate animation controls?<br></div><br><br>I didn't get to find animation data.<br><br><br>I'll start with the classification of images and their respective files and dirs tomorrow.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71280" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.20;msg=71280">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg71391"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg71391#msg71391"><img src="index.php_files/lamp.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_71391">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg71391#msg71391">Various things</a>
									</div>
									<div class="smalltext"> <b>Reply #21 on:</b> 2006-05-08 16:59:19 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=71391;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">There has been a long calm.&nbsp; <img src="index.php_files/cheesy.gif" alt="cheesy" border="0"><br>In any case I've been quietly (noisely is not possible) working on a better UI and processing the data files.<br>However I've discovered a few things about DIR00 and it's associated files<br>F&lt;00&gt;000 contains only 1 DWORD in little endian format (00000015) or 21 in decimal First word.. <br>The first DWORD I believe identifies the file (hmm).<br>F&lt;00&gt;001 begins with 00000005<br>F&lt;00&gt;002 begins with 00000006 and is followed by 'Disc Cover Open\0'<br>F&lt;00&gt;003 begins with 00000007 it also has a number of printf format strings in it such as<br>"Illigal Animation Data" &lt;--- actual data hehehe<br>"w_movementChange : %d -&gt; %d\xA\0"<br>"MAP JUMP\xA\0"<br>"w_frameMapDestructor:\xA\0"<br>"w_frameSystemDestructor:\xA\0"<br>"*[ Request from script:Weather:%d ]\xA\0"<br>"*[ Request from script:Navi Active:%d]\xA\0"<br>etc.<br>F&lt;00&gt;004 begins with 00000008 it has a number of words that run together<br>It contains a load table of locations within the PS1 memory and a series of phrases<br>"ENEMY CARD SELECT\xA\0" <br>My guess is this is the card game <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br>F&lt;00&gt;005 begins with 00000009 it also has a long load table of PS1 memory locations.<br>F&lt;00&gt;006 begins with 0000000A has a short load table and has a few printf format strings in it<br>"%2d Bankroll\0"<br>"%ld Wager\0"<br>"Stand\0"<br>"Hit\0"<br>"Double\0"<br>"Split\0"<br>F&lt;00&gt;007 begins with 0000000E<br>F&lt;00&gt;008 begins with 0000000F<br>F&lt;00&gt;009 begins with 00000011<br>F&lt;00&gt;010 begins with 00000010<br>F&lt;00&gt;011 begins with 00000012<br>F&lt;00&gt;012 begins with 00000013<br>F&lt;00&gt;013 begins with 00000014<br>It has words such as<br>"File00\0"<br>"/DISC\0"<br>in the begining<br>F&lt;00&gt;014 begins with 00000015<br>has a PS1 memory load table at the begining<br>(5) locations<br>F&lt;00&gt;015 begins with 00000016<br>F&lt;00&gt;016 begins with 00000017<br>F&lt;00&gt;017 begins with 0000000F <br>that's all that is contained in it<br>F&lt;00&gt;018 begins with 0000000D <br>and looks to have a TIM file in it.<br><br>I'm getting false positives reguarding the DB files (mutter) so I may need to work on that a bit more <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br>Current screen caps.<br>Directory Information (woo?) including those pesky 0xDB encoded files <img src="index.php_files/wink.gif" alt="Wink" border="0"><br><a href="http://www.geocities.com/cyberman_phillips/Images/DIR04_1.JPG" target="_blank">http://www.geocities.com/cyberman_phillips/Images/DIR04_1.JPG</a><br>Hex Dump of first data section of first file on screen.<br><a href="http://www.geocities.com/cyberman_phillips/Images/DIR04_2.JPG" target="_blank">http://www.geocities.com/cyberman_phillips/Images/DIR04_2.JPG</a><br>Note:
These are linked because the system killed the images so there was no
point in putting them in with \[IMG\] \[\IMG] usage. All Images appear
to be restricted to 640 pixels across.<br><br>Cyb</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_71391" valign="bottom">
									 <i>Last Edit: 2006-05-08 17:04:37 by Cyberman</i> 
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.21;msg=71391">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg72960"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg72960#msg72960"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_72960">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg72960#msg72960">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #22 on:</b> 2006-05-29 02:02:23 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=72960;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Hi, again! It's nice to see the forums are back.<br><br>I haven't done much lately and won't be able to do much for the next couple of weeks as it's crunch time at work. <img src="index.php_files/sad.gif" alt="Sad" border="0"> I'll post a little more info then.<br><br>Anyway, I'll comment a little bit on your data and our differences.<br><br>F&lt;00&gt;000: Has some JPEG tags.<br>F&lt;00&gt;017: Begins with 00000014. The rest is 00000000.<br>F&lt;00&gt;020: Begins with 0000000C.<br><br>The other numbers match.<br><br>Were you able to solve the false positives with the DBs? Where are you having problems?<br><br><br>What I was able to figure out a little after the forums went down:<br>- Some of the fields I marked as unknown in the WM struct. (I still have to add textures to the ground.)<br>-
Some other WM related data in DIR03. (Model for little Zidane, Chocobo,
etc; textures for the ground and text/dialog for the WM.)<br>- Partial in-game text encoding.<br>- Some parts of the files in DIR13 that could be used to further subdivide them. (Not complete.)<br><br>DIR02 has only text (and some tables to index the text). Each file contains the dialog to a section of the game:<br>- F&lt;02&gt;000: Intro, theater play (the one about the canary).<br>- F&lt;02&gt;001: Intro, Vivi in town and Steiner looking for the princess.<br>- F&lt;02&gt;002: Escape from the forest.<br>- F&lt;02&gt;003: Ice Cavern and Dali.<br>- F&lt;02&gt;004: Lindblum.<br>... etc.<br><br>There's a lot of encoded text in other directories, including DIR00.<br><br>In the DB structures, text blocks (or files) have "type" 0x06.<br><br><br>I looked at the wiki info on FF9, and I have some comments, as some info is not what I have:<br>-
In the "Root Directory Header", the "Signature" field ends in 0x00, but
in the FF9.img I have it is 0x20. (The padding for the Root Dir is the
same.)<br>- In "Sub Directory Information --&gt; File Size information" it says:<br><br><div class="quoteheader">Quote</div><div class="quote">The
last file is a bit different you need the sector of the next sub
directory file list and subtract from that the first sector of the file
you wish the size of.<br></div><br>Maybe I'm reading it wrong, but the
way to get the size for the last file is quite similar to the previous
files, as the last element in the structure has 0xFFFFFFFF in the
"Flags" field and the "First Sector" field points to the first sector
after the current sub-dir (which is the same as the first sector of the
next sub-dir.) I forgot to mention that in my previous posts.<br><br>Some
other thing I'd change (feel free to ignore this) to the wiki is the
description for "Directory Types" 0x03; I wouldn't use the word
"Heirarchical", but perhaps "Indexed" or something like that, as there
are some blank entries (0xFFFF) that make me think there were
effects/summon data left out, but the place was kept to access every
file by an index that wasn't easily changed in the application. (I
simply don't see the hierarchy.)<br><br></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_72960" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.22;msg=72960">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg73175"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg73175#msg73175"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_73175">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg73175#msg73175">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #23 on:</b> 2006-05-31 16:09:40 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=73175;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br><br>1) JPEG files are unlikely to be in a PS1 game.<br><br>2) my computer crashed so I'm waiting to restore my files (sigh).&nbsp; To be precise the Hard Disk expired mostly. <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br><br>3)
I'm trying to not scream a lot. From frustration with crashing
software.&nbsp; I think my MB is partly to blame.&nbsp; Life goes on!<br><br>4) DIR02 is likely script data.&nbsp; This means FF9's engines is a bit different in how it organizes it's data compared to FF7.<br><br>Since
FF9 is a linear progression game it means that it's likely the script
and text for each part of the game progression is located in DIR02 in
the order they appear.&nbsp; That also means that you should find the
tutorial things that appear during the game in there as well.<br>If you
find there is more data than text then it's script if not the script is
hidden elsewhere.&nbsp; It would be good if you could discover this
though <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br><br>I suppose I need to restore my code ASAP <img src="index.php_files/tongue.gif" alt="Tongue" border="0"><br><br>Hopefully I can cool my dead HD brain a bit to do so <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br><br>Cyb </div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_73175" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.23;msg=73175">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg73421"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg73421#msg73421"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_73421">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg73421#msg73421">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #24 on:</b> 2006-06-03 16:43:56 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=73421;topic=5481.0;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Sorry to hear about your computer crashing. <img src="index.php_files/sad.gif" alt="Sad" border="0"> (That reminds me to backup.)<br><br><div class="quoteheader">Quote</div><div class="quote">1) JPEG files are unlikely to be in a PS1 game.<br></div><br>Yes,
now I think so too, but the tags are there and I wasn't able to
decompress any image. Perhaps they were added while translating the
game. Anyway I don't mind too much as your file is almost empty and I
couldn't find similar tags anywhere else.<br><br><div class="quoteheader">Quote</div><div class="quote">4) DIR02 is likely script data.&nbsp; This means FF9's engines is a bit different in how it organizes it's data compared to FF7.<br><br>Since
FF9 is a linear progression game it means that it's likely the script
and text for each part of the game progression is located in DIR02 in
the order they appear.&nbsp; That also means that you should find the
tutorial things that appear during the game in there as well.<br>If you
find there is more data than text then it's script if not the script is
hidden elsewhere.&nbsp; It would be good if you could discover this
though Cheesy<br></div><br>You are right, the text follows the script
order and there are tutorials, but no, there's no script. Well, I think
there is not enough room for a script language there.<br>The text
strings include some control characters (&lt;cr&gt;/&lt;lf&gt; like)
and argument placeholders (similar to %s from printf.) There are a lot
of characters I haven't looked up, but they appear sparcelly and seem
to be punctuation marks or special graphics.<br><br>Before the text
there is a table with pointers to every string in the file. Each entry
has some attributes that as usual I don't know what they mean, and they
could reference a script somewhere else; but it seem unlikely as there
are a lot of repeated values.<br><br>So, the script must be somewhere else. I was thinking the Field directory (DIR04), the World Map 2 (DIR03), DIR01 or DIR00.<br>The
text/dialog should be referenced in the script by a numeric index and
assuming the state machine used follows the script, a lot of those
consecutive indexes should appear in short distances. That could help
automate some search, but I'd prefer to fill-in some easier blanks
first.<br><br>Rereading this comment I just remembered Zande had mostly all of this figured out long ago. <img src="index.php_files/smiley.gif" alt="Smiley" border="0"> I'll have to check his comments again.<br></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_73421" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.24;msg=73421">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 0pt 0pt 1px;"></td></tr>
</tbody></table>
<a name="lastPost"></a>

<table class="tborder" style="margin-top: 1ex;" border="0" cellpadding="3" cellspacing="0" width="100%">
	<tbody><tr>
		<td class="catbg" height="30" width="100%">
			<table cellpadding="3" cellspacing="0" width="100%">
				<tbody><tr>
					<td>
						<a name="bot"></a><b>Pages:</b> [<b>1</b>] <a class="navPages" href="http://forums.qhimm.com/index.php?topic=5481.25">2</a> 
					</td>
					<td style="font-size: smaller;" align="right"><a href="http://forums.qhimm.com/index.php?action=post;topic=5481.0;num_replies=36"><img src="index.php_files/reply.gif" alt="Reply" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=notify;sa=on;topic=5481.0;sesc=9adac86f71db0d5b33b4b2b0ff6b7709" onclick="return confirm('Are you sure you wish to enable notification of new replies for this topic?');"><img src="index.php_files/notify.gif" alt="Notify of replies" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=markasread;sa=topic;t=107251;topic=5481.0;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/markunread.gif" alt="Mark unread" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=sendtopic;topic=5481.0"><img src="index.php_files/sendtopic.gif" alt="Send this topic" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=printpage;topic=5481.0" target="_blank"><img src="index.php_files/print.gif" alt="Print" border="0"></a>&nbsp;
					</td>
				</tr>
			</tbody></table>
		</td>
	</tr>
</tbody></table>
<script language="JavaScript" type="text/javascript" src="index.php_files/spellcheck.js"></script>
<script language="JavaScript" type="text/javascript" src="index.php_files/xml_topic.js"></script>
<script language="JavaScript" type="text/javascript"><!-- // --><![CDATA[
	quickReplyCollapsed = true;

	smf_topic = 5481;
	smf_start = 0;
	smf_show_modify = 1;

	// On quick modify, this is what the body will look like.
	var smf_template_body_edit = '<div id="error_box" style="padding: 4px; color: red;"></div><textarea class="editor" name="message" rows="12" style="width: 94%; margin-bottom: 10px;">%body%</textarea><br /><input type="hidden" name="sc" value="9adac86f71db0d5b33b4b2b0ff6b7709" /><input type="hidden" name="topic" value="5481" /><input type="hidden" name="msg" value="%msg_id%" /><div style="text-align: center;"><input type="submit" name="post" value="Save" onclick="return modify_save(\'9adac86f71db0d5b33b4b2b0ff6b7709\');" accesskey="s" />&nbsp;&nbsp;<input type="button" value="Spell Check" onclick="spellCheck(\'quickModForm\', \'message\');" />&nbsp;&nbsp;<input type="submit" name="cancel" value="Cancel" onclick="return modify_cancel();" /></div>';

	// And this is the replacement for the subject.
	var smf_template_subject_edit = '<input type="text" name="subject" value="%subject%" size="60" style="width: 99%;"  maxlength="80" />';

	// Restore the message to this after editing.
	var smf_template_body_normal = '%body%';
	var smf_template_subject_normal = '<a href="http://forums.qhimm.com/index.php?topic=5481.msg%msg_id%#msg%msg_id%">%subject%</a>';
	var smf_template_top_subject = "Topic: %subject% &nbsp;(Read 4155 times)"

	if (window.XMLHttpRequest)
		showModifyButtons();
// ]]></script>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tbody><tr>
		<td valign="top"><span class="nav" style="font-size: smaller;"><b><a href="http://forums.qhimm.com/index.php" class="nav">Qhimm.com</a></b> &nbsp;|&nbsp; <b><a href="http://forums.qhimm.com/index.php#1" class="nav">Public forums</a></b> &nbsp;|&nbsp; <b><a href="http://forums.qhimm.com/index.php?board=4.0" class="nav">Tech-related</a></b> (Moderator: <a href="http://forums.qhimm.com/index.php?action=profile;u=109" title="Board Moderator">halkun</a>) &nbsp;|&nbsp; Topic: <b><a href="http://forums.qhimm.com/index.php?topic=5481.0" class="nav">ff9.img directories and files</a></b></span></td> 
		<td class="smalltext" align="right" valign="top"> <span class="nav"> <a href="http://forums.qhimm.com/index.php?topic=5481.0;prev_next=prev#new"> previous</a> <a href="http://forums.qhimm.com/index.php?topic=5481.0;prev_next=next#new">next </a></span></td>
	</tr>
</tbody></table>
<div style="padding-top: 4px; padding-bottom: 4px;"></div>
</form><div id="apBreakStart2" style="background: rgb(230, 230, 230) none repeat scroll 0% 0%; clear: both; line-height: 20px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; text-align: center; margin-top: 20px; margin-bottom: 20px;" class="autoPagerS"><span><a target="_blank" href="http://autopager.teesoft.info/help.html">&#1056;&#1072;&#1079;&#1088;&#1099;&#1074; &#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1099; &#1074;&#1089;&#1090;&#1072;&#1074;&#1080;&#1083; AutoPager.</a>&nbsp;&nbsp;<a href="http://forums.qhimm.com/index.php?topic=5481.25">&#1057;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072; &nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;</a>.<a id="autopager_2" name="autopager_2">&nbsp;&nbsp;</a><a href="javascript:window.scroll(0,0)" title="&#1055;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1074; &#1085;&#1072;&#1095;&#1072;&#1083;&#1086;"><img style="border: 0pt none ; height: 18px; float: none; display: inline;" src="index.php_files/top_24.png" alt="&#1055;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1074; &#1085;&#1072;&#1095;&#1072;&#1083;&#1086;" align="top"></a>&nbsp;&nbsp;<a href="javascript:window.scroll(0,0)" title="&#1057;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072; &#1074;&#1074;&#1077;&#1088;&#1093;"><img style="border: 0pt none ; height: 18px; float: none; display: inline;" src="index.php_files/up_24.png" alt="&#1057;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072; &#1074;&#1074;&#1077;&#1088;&#1093;" align="top"></a>&nbsp;&nbsp;<a href="#autopager_3" title="&#1057;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072; &#1074;&#1085;&#1080;&#1079;"><img style="border: 0pt none ; height: 18px; float: none; display: inline;" src="index.php_files/down_24.png" alt="&#1057;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072; &#1074;&#1085;&#1080;&#1079;" align="top"></a>&nbsp;&nbsp;<a href="javascript:window.scroll(0,document.body.scrollHeight)" title="&#1055;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1074; &#1082;&#1086;&#1085;&#1077;&#1094;"><img style="border: 0pt none ; height: 18px; float: none; display: inline;" src="index.php_files/bottom_24.png" alt="&#1055;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1074; &#1082;&#1086;&#1085;&#1077;&#1094;" align="top"></a></span></div><table class="tborder" style="margin-bottom: 1ex;" border="0" cellpadding="3" cellspacing="0" width="100%">
	<tbody><tr>
		<td class="catbg" height="35" width="100%">
			<table cellpadding="3" cellspacing="0" width="100%">
				<tbody><tr>
					<td>
						<b>Pages:</b> <a class="navPages" href="http://forums.qhimm.com/index.php?topic=5481.0">1</a> [<b>2</b>] 
					</td>
					<td style="font-size: smaller;" align="right"><a href="http://forums.qhimm.com/index.php?action=post;topic=5481.25;num_replies=36"><img src="index.php_files/reply.gif" alt="Reply" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=notify;sa=on;topic=5481.25;sesc=9adac86f71db0d5b33b4b2b0ff6b7709" onclick="return confirm('Are you sure you wish to enable notification of new replies for this topic?');"><img src="index.php_files/notify.gif" alt="Notify of replies" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=markasread;sa=topic;t=119834;topic=5481.25;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/markunread.gif" alt="Mark unread" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=sendtopic;topic=5481.0"><img src="index.php_files/sendtopic.gif" alt="Send this topic" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=printpage;topic=5481.0" target="_blank"><img src="index.php_files/print.gif" alt="Print" border="0"></a></td>
				</tr>
			</tbody></table>
		</td>
	</tr>
</tbody></table><table class="tborder" style="border-bottom: 0pt none;" border="0" cellpadding="3" cellspacing="0" width="100%">
	<tbody><tr class="titlebg">
		<td style="padding-left: 6px;" valign="middle" width="15%">
			<img src="index.php_files/hot_post.gif" alt="" align="middle"> Author
		</td>
		<td style="padding-left: 6px;" id="top_subject" valign="middle" width="85%">
			Topic: ff9.img directories and files &nbsp;(Read 4156 times)
		</td>
	</tr>
</tbody></table><form action="http://forums.qhimm.com/index.php?action=quickmod2;topic=5481.25" method="post" name="quickModForm" accept-charset="ISO-8859-1" id="quickModForm" style="margin: 0pt;" onsubmit="return in_edit_mode == 1 ? modify_save('9adac86f71db0d5b33b4b2b0ff6b7709') : confirm('Are you sure you want to do this?');">
<table class="bordercolor" border="0" cellpadding="0" cellspacing="0" width="100%">
	<tbody><tr><td style="padding: 1px 1px 0pt;">
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=109" title="View the profile of halkun">halkun</a></b>
							<div class="smalltext">
								Moderator<br>
								<img src="index.php_files/07.gif" alt="*" border="0"><br>
								Posts: 1684<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/image.jpg" alt="" class="avatar" border="0"></div><br>
								
								<a href="http://members.msn.com/halkun2002@msn.com" target="_blank"><img src="index.php_files/msntalk.gif" alt="halkun2002@msn.com" border="0"></a>
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=halkun2002"><img src="index.php_files/online.gif" alt="halkun2002" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=109"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://q-gears.sourceforge.net/" title="Q-Gears Homepage" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="mailto:halkun2002@yahoo.com"><img src="index.php_files/email_sm.gif" alt="Email" title="Email" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=109" title="Personal Message (Online)"><img src="index.php_files/im_on.gif" alt="Personal Message (Online)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg73553#msg73553"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_73553">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg73553#msg73553">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #25 on:</b> 2006-06-05 22:03:14 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=73553;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">You know, you should really start nameing these directories. It will make things a little more standard and easier to read.<br><br>I mean it can't be any different than FF7's<br><br>INIT<br>ENEMY<br>WM<br>MINI<br><br></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_73553" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.25;msg=73553">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg73566"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg73566#msg73566"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_73566">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg73566#msg73566">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #26 on:</b> 2006-06-06 05:16:17 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=73566;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><div class="quoteheader"><a href="http://forums.qhimm.com/index.php?topic=5481.msg73553#msg73553">Quote from: halkun on 2006-06-05 22:03:14</a></div><div class="quote">You know, you should really start nameing these directories. It will make things a little more standard and easier to read.<br><br>I mean it can't be any different than FF7's<br><br>INIT<br>ENEMY<br>WM<br>MINI</div>It's
a thought save for the fact the directories are offsets from a table..
and the files are offsets from a table. So there are no names readily
available.&nbsp; Also the index value cannot be directly associated to
a name unless one memorizes what the index value of a name is.&nbsp; My
memory is crap of late, so I know I would constantly have to use a
little sheet irreguardless of the names.<br>When we finish hashing out
the information contained in each directory I suppose it would be more
functional to do it that way. As yet we are acertaining what files are
where and such.&nbsp; It would be nice if the scripting were the
similar to FF7 and FF8's format.<br><br>Cyb</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_73566" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.26;msg=73566">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg73588"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg73588#msg73588"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_73588">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg73588#msg73588">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #27 on:</b> 2006-06-07 02:01:07 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=73588;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">I agree with both of you. <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br><br>Naming
dirs and files can help people understand where things are located and
such, but as Cyberman pointed out it is too early to do that. I'd
suggest to simply create tables mapping the numbers to a short
description so people interested can use them and don't get lost. But
I'll keep on using numbers until things are a little more clear.
(Anyway I wouldn't mind explaining something without the numbers if
necessary.)<br><br>I think the table Zande provided for the directories
is a good start. Now that I can read some of the encoded text, I'm
doing a similar table for files in DIR00 in my free time (not much).<br><br><br>For those interested in reading the encoded text I found, I'll post this table:<br><br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;">&nbsp; &nbsp; 0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; A&nbsp; B&nbsp; C&nbsp; D&nbsp; E&nbsp; F<br>&nbsp;+---------------------------------------------------<br>0|&nbsp; 0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; +&nbsp; -&nbsp; =&nbsp; *&nbsp; % SPC<br>1|&nbsp; A&nbsp; B&nbsp; C&nbsp; D&nbsp; E&nbsp; F&nbsp; G&nbsp; H&nbsp; I&nbsp; J&nbsp; K&nbsp; L&nbsp; M&nbsp; N&nbsp; O&nbsp; P<br>2|&nbsp; Q&nbsp; R&nbsp; S&nbsp; T&nbsp; U&nbsp; V&nbsp; W&nbsp; X&nbsp; Y&nbsp; Z&nbsp; (&nbsp; !&nbsp; ?&nbsp; "&nbsp; :&nbsp; .<br>3|&nbsp; a&nbsp; b&nbsp; c&nbsp; d&nbsp; e&nbsp; f&nbsp; g&nbsp; h&nbsp; i&nbsp; j&nbsp; k&nbsp; l&nbsp; m&nbsp; n&nbsp; o&nbsp; p<br>4|&nbsp; q&nbsp; r&nbsp; s&nbsp; t&nbsp; u&nbsp; v&nbsp; w&nbsp; x&nbsp; y&nbsp; z&nbsp; )&nbsp; ,&nbsp; /&nbsp; &nbsp; ~&nbsp; &amp;<br>5|&nbsp; <br>6|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>7|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>8|<br>9|<br>A|<br>B|&nbsp; &nbsp; &nbsp;<br>C|<br>D|<br>E|<br>F|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\n<br></pre></div><br>SPC=SPACE (0x20)<br>\n=New line<br><br>It's
not complete, as I've added only the bytes I verified, but it should be
enough to read some text; especially the dialog, some debug messages,
and the text from the menus.<br><br>The row number is the most
significant nibble in a byte and the column number is the less
significant nibble. You'll have to convert that byte to the character
inside the cell in those coordinates.<br><br>It's not too difficult to get the position for other characters as they can be found in some of the TIM images of fonts.<br>I
already know how to get the image for each individual character from
the font image, but I haven't looked too much into it so I'll leave
that for when I have more time.<br><br>If anyone feels like completing the table I won't mind. <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br><br>A note: there are probably similar tables for other fonts.<br><br><br>Besides
that, I have a description of what I know is inside of F&lt;00&gt;013.
It's interesting as I was able to recognize most elements from the
first half of the file, but I think I won't be able to know what's
inside the other half just by looking at it.<br><br>File F&lt;00&gt;013 seems to be the "load/save game" menu. Just to give some bad news to Cyberman <img src="index.php_files/grin.gif" alt="Grin" border="0">,
I wasn't able to find a header nicelly describing the components, plus
I think it's the same thing for all DIR00 files. My only hope is that
those elements are pointed to from a script.<br><br>I won't give the
offsets of my version, as they'll surelly be different for the English
version; or any other language for that matter.<br><br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;">(4 bytes) File identifier? (=0x00000014)<br>(4 bytes) Unknown (=0x00003030)<br>(8 bytes) String "/DISCO" padded with 0x00. (Translation: "DISK")<br>(4 bytes) Unknown (0x00)<br>(2 bytes) Unknown (0x7e)<br>(2 bytes) Unknown (0xe0)<br>(4 bytes) Number of pointers to strings that follow. (=0x3a)<br>Pointer to string:<br>&nbsp; (2 bytes) Number of bytes (relative to offset of first pointer) till the first char of the string.<br>&nbsp; (2 bytes) Unknown. (Attributes of string?)<br>... (Repeat for every pointer.)<br>Encoded string. (Variable length.)<br>... (Repeat for every string.)<br>(256 bytes)&nbsp; CLUT for Zidane. (entries=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of Zidane's face. (width=32, height=46, size=1472 bytes)<br>(256 bytes)&nbsp; CLUT for Vivi. (entries=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of Vivi's face. (width=32, height=46, size=1472 bytes)<br>(256 bytes)&nbsp; CLUT for Garnet. (entries=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of Garnet's face. (width=32, height=46, size=1472 bytes)<br>(256 bytes)&nbsp; CLUT for ***. (entries=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of ***'s face. (width=32, height=46, size=1472 bytes)<br>(256 bytes)&nbsp; CLUT for Steiner. (entries=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of Steiner's face. (width=32, height=46, size=1472 bytes)<br>(256 bytes)&nbsp; CLUT for Quina. (entires=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of Quina's face. (width=32, height=46, size=1472 bytes)<br>(256 bytes)&nbsp; CLUT for Eiko. (entries=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of Eiko's face. (width=32, height=46, size=1472 bytes)<br>(256 bytes)&nbsp; CLUT for Freya. (entries=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of Freya's face. (width=32, heigth=46, size=1472 bytes)<br>(256 bytes)&nbsp; CLUT for Amarant. (entires=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of Amarant's face. (width=32, height=46, size=1472 bytes)<br>(256 bytes)&nbsp; CLUT for Marcus. (entires=128, 16bpp, size=256 bytes)<br>(1472 bytes) Picture of Marcus' face. (entries=128, 16bpp, size=1472 bytes)<br>(512 bytes)&nbsp; CLUT for "passing pages of a book". (entries=256, 16bpp, size=512 bytes)<br>(5808 bytes) Picture of "passign pages of a book". (width=176, height=33, size=5808 bytes)<br>... (Rest is unknown at the moment and is barelly half the file.)<br></pre></div><br>The
*** above means I don't remember the name of the protagonist, but if
I'm not wrong it's Dagger. I really don't remember if Garnet changed
names and the picture of her face changed in the menus as well.<br><br>The
"passing pages of a book" is, as I mentioned before, the animation of
the book that appears when the game is opening a memory card.<br><br>After
that image I don't know what's in there. That may be a good place to
look for some script or compiled code but I don't know machine code nor
assembly for the psx and neither do I know ff7 nor ff8 scripting
language. So, if anyone could look a little bit into it, please... <img src="index.php_files/smiley.gif" alt="Smiley" border="0"><br><br>It's quite homogeneous and if it was a 8086 architecture I'd go for code, but I might as well be completelly wrong.<br></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_73588" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.27;msg=73588">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg73618"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg73618#msg73618"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_73618">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg73618#msg73618">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #28 on:</b> 2006-06-07 19:01:30 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=73618;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">It's
not bad news that's good news. I suspected DIR00 of being odd.&nbsp; I
believe this to be splash screens and menu things for the game now.
(MENU? <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0">)<br>In summary things are potentially better because of this.<br>Hmmm I believe there is a font that looks similiar to your matrix coding for text.. I'll have to nose around for it.<br><br>The game has a script somewhere, but where is the question, finding the script data is likely going to be troublesome I suspect.<br><br>It may be in DIR02 but not with the text... only time will tell.<br><br>Erstwhile I am looking at cooling my hard disk and trying to get the data off of it (or at least Hoping too).<br><br>Cyb</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_73618" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.28;msg=73618">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg73631"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg73631#msg73631"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_73631">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg73631#msg73631">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #29 on:</b> 2006-06-07 23:14:38 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=73631;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post"><div class="quoteheader">Quote</div><div class="quote">It's
not bad news that's good news. I suspected DIR00 of being odd.&nbsp; I
believe this to be splash screens and menu things for the game now.
(MENU?)<br></div><br>I was just kidding about the bad news, but I'd
prefer headers in the files. I agree with the MENU designation but
there can be some exception to it.<br><br><div class="quoteheader">Quote</div><div class="quote">It may be in DIR02 but not with the text... only time will tell.<br></div><br>All the files in DIR02 have this structure:<br><br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;">(4 bytes) DB structure with one sub-element. (Always DB 01 00 00)<br>(3 bytes) Pointer to first (and only) sub-element in DB struct. (Always 0x04)<br>(1 byte)&nbsp; Type of sub-element. (Always 0x06. Text array?)<br>First sub-element:<br>&nbsp; (4 bytes) Unknown. (Always 06 01 00 00)<br>&nbsp; (4 bytes) Unknown. It's incremented by 1 or more units with each file.<br>&nbsp; (4 bytes) Unknown. (Always 08 00 00 00)<br>&nbsp; (4 bytes) Pointer to first byte after last string. (Pointer to slack space.)<br>&nbsp; (4 bytes) Number of string pointers.<br>&nbsp; Pointer to first string:<br>&nbsp; &nbsp; (2 bytes) Number of bytes (relative to offset of first pointer) till the first char of the string.<br>&nbsp; &nbsp; (2 bytes) Unknown. (Attributes of string?)<br>&nbsp; ... (Repeat for every pointer.)<br>&nbsp; First encoded string. (Variable length, ends in 0xFF.)<br>&nbsp; ... (Repeat for every string.)<br>(0x00 padded to complete last sector.)<br></pre></div><br>As
you can see they are quite simple. Every file is "text oriented"
(meaning they define arrays of strings and not much more.) As I said
before, the only relation to a script can be defined in the attributes
or by some special character inside the strings, but there aren't many
examples where that's possible; and there is no chance to find a
complex script there.<br><br><br>---------------------------------------------<br><br>Mmmmmm....
Just a correction, as I messed up a bit with the description of
F&lt;00&gt;013 (save/load menu). I said I couldn't recognize the second
half of the file and thought it could be code, but from a comment by
halkun I realized I was missing something. I opened a memory card image
and found the first 256 unknown bytes into it. (So much for code.&nbsp;
<img src="index.php_files/embarrassed.gif" alt="embarassed" border="0">)<br></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_73631" valign="bottom">
									 <i>Last Edit: 2006-06-09 02:49:13 by Tonberry</i> 
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.29;msg=73631">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg73778"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=2603" title="View the profile of Tonberry">Tonberry</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 38<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=2603"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=2603" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg73778#msg73778"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_73778">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg73778#msg73778">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #30 on:</b> 2006-06-11 07:25:03 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=73778;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">I
think I found assembler code in F&lt;00&gt;013 (load/save game menu),
and I mean "valid" assembler code; but it would be great if someone
with experience on the psx could tell me if I'm making any mistakes.<br><br>I
made some quick routines to disassemble the portions of F&lt;00&gt;013
that I couldn't classify and I found something like this at the very
begining:<br><br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;">* ADDIU&nbsp; $sp, $sp, 65504<br>&nbsp; ...<br>&nbsp; JR&nbsp; &nbsp; &nbsp;$ra<br>&nbsp; ADDIU&nbsp; $sp, $sp, 32<br>* ADDIU&nbsp; $sp, $sp, 65496<br>&nbsp; ...<br>&nbsp; JR&nbsp; &nbsp; &nbsp;$ra<br>&nbsp; ADDIU&nbsp; $sp, $sp, 40<br>* ADDIU&nbsp; $sp, $sp, 65512<br>&nbsp; ...<br>&nbsp; JR&nbsp; &nbsp; &nbsp;$ra<br>&nbsp; ADDIU&nbsp; $sp, $sp, 24<br>* ADDIU&nbsp; $sp, $sp, 65488<br>&nbsp; ...<br>&nbsp; JR&nbsp; &nbsp; &nbsp;$ra<br>&nbsp; ADDIU&nbsp; $sp, $sp, 48<br>* ADDIU&nbsp; $sp, $sp, 65464<br>&nbsp; ...<br>&nbsp; JR&nbsp; &nbsp; &nbsp;$ra<br>&nbsp; ADDIU&nbsp; $sp, $sp, 72<br>* ADDIU&nbsp; $sp, $sp, 65472<br>&nbsp; ...<br>&nbsp; JR&nbsp; &nbsp; &nbsp;$ra<br>&nbsp; ADDIU&nbsp; $sp, $sp, 64<br>* ADDIU&nbsp; $sp, $sp, 65448<br>...<br><br>etc.<br></pre></div><br>Now,
if I'm not mistaken, those should be typical entry/exit points for
functions, as the instructions marked with an asterisk reserve certain
amount of memory on the stack and the one after the "JR $ra" frees the
same amount of memory.<br><br>I tried with other files from DIR00 and got similar results.<br></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_73778" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.30;msg=73778">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg89291"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=4071" title="View the profile of scmark15">scmark15</a></b>
							<div class="smalltext">
								Newbie<br>
								<img src="index.php_files/01.gif" alt="*" border="0"><br>
								Posts: 4<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=4071"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/scmark15" title="Homepage" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="mailto:scmark15@yahoo.com"><img src="index.php_files/email_sm.gif" alt="Email" title="Email" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=4071" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg89291#msg89291"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_89291">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg89291#msg89291">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #31 on:</b> 2008-01-18 20:04:35 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=89291;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">I was bored and decided to play with Tile Molester, I found the Change Disc Images &amp; Game over screen...<br>*Note: I used Zidane_2's ff9_extractor and db_extract programs to tear apart my ff9.img...<br><br><div class="quoteheader">Quote</div><div class="quote">I redownload img and db extractors to:<br><a href="http://zidane_games.webhost.ru/FF9_TOOLS.rar" target="_blank">http://zidane_games.webhost.ru/FF9_TOOLS.rar</a><br><br>And upload new version of the "battle scene viewer":<br><a href="http://zidane_games.webhost.ru/New_viewer.rar" target="_blank">http://zidane_games.webhost.ru/New_viewer.rar</a><br><br>In new version i fix old bug with textures ))<br><br>Archive contain old and new versions and 2 files for example.</div><br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;">Dir 01 file 2 (Standard 16bpp TIM File):<br>Game Over Screen<br>Height: 224px<br>Width: 320px</pre></div><br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;">Dir 01 files 7-10:<br>Change Disc 1-4<br>...after a little cut and paste...<br>Height: 224px<br>Width: 320px<br></pre></div>...One thing I noticed is that the right half is missing 19 (8x8pixel) tiles from the bottom right of all of them...<br><img src="index.php_files/dir01file07old.htm" alt="" border="0"><br><br>*Edit .... Searched through the original ff9.img file (too big to open with tile molester) using my hex editor and<br>cut out about 1400 bytes and pasted it at the end of the 7th file in the 01 directory saved it as a new file and<br>tried to view it again and the missing tiles are there now. I have no idea why it got cut off, maybe a problem with<br>Zande_2's ff9_extractor, I don't know C++ so I can't tell ^_^ (my original ripped 7th file is 143, 360 bytes).<br><br><img src="index.php_files/dir01file07new.htm" alt="" border="0"><br><br>Best viewed settings for change disc images...<br>Codec: 16bpp ABGR (1555) *Corrected*<br>Mode: 2-Dimensional<br>Zoom: 100%<br>Width: 20 (8x8 pixel) tiles<br>Height: <img src="index.php_files/huh.gif" alt="Huh" border="0"><img src="index.php_files/huh.gif" alt="Huh" border="0"> (don't feel like counting)<br><br>The image will be cut in half with the right half of the image below the left half.<br><br>I know a little hex but I really gotta learn Visual C++ so I write my own custom TIM/file viewers.<br>Any
recommendations on books/commented source (I like the cut, delete,
paste method of learning also) that would help, I'd greatly appreciate
it!<br><br>Thanks,<br>scmark15<br></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_89291" valign="bottom">
									 <i>Last Edit: 2008-01-21 14:34:49 by scmark15</i> 
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.31;msg=89291">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg89321"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg89321#msg89321"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_89321">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg89321#msg89321">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #32 on:</b> 2008-01-20 15:19:33 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=89321;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">I'm afraid not much source code exists for TIM file reading.<br>I have header information for the file type however.<br>I believe the TIM images on FF9's change disk screens are 320x224.<br>Since
most of the TIM images that are directly readable are 16bit (this
includes background images). They are very easy to decode, save the
back ground images although 16 bit TIM's include palettes. I suspect
they did this to make things easier programming wise.<br><br><div class="codeheader">Code:</div><div class="code"><pre style="margin-top: 0pt; display: inline;">#define&nbsp; _PSX_STRUCT_H_<br>//typedef&nbsp; long&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;INT32;<br>//typedef&nbsp; unsigned long&nbsp; UINT32;<br>typedef&nbsp; short int&nbsp; &nbsp; &nbsp; INT16;<br>typedef&nbsp; unsigned short UINT16;<br>typedef&nbsp; char&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;INT8;<br>typedef&nbsp; unsigned char&nbsp; UINT8;<br><br>typedef struct<br>{<br>&nbsp; &nbsp;UINT32&nbsp; &nbsp;Magic;<br>&nbsp; &nbsp;UINT32&nbsp; &nbsp;Type;<br>} base_tim_hdr;<br><br>typedef struct<br>{<br>&nbsp; &nbsp;UINT32&nbsp; &nbsp;WCount;<br>&nbsp; &nbsp;UINT16&nbsp; &nbsp;IMGX, IMGY; // origin of image<br>&nbsp; &nbsp;UINT16&nbsp; &nbsp;Pitch;&nbsp; &nbsp;// in 16 bit words per horizontal line<br>&nbsp; &nbsp;UINT16&nbsp; &nbsp;Height;&nbsp; // number of lines;<br>} base_tim_img;<br><br>typedef&nbsp; struct<br>{<br>&nbsp; &nbsp;base_tim_hdr&nbsp; &nbsp;INFO;<br>&nbsp; &nbsp;UINT32&nbsp; &nbsp;Bytes;<br>&nbsp; &nbsp;UINT16&nbsp; &nbsp;PALX, PALY;<br>&nbsp; &nbsp;UINT16&nbsp; &nbsp;ZZ01;<br>&nbsp; &nbsp;UINT16&nbsp; &nbsp;CLUT_CNT;<br>} tim_4bpp;<br><br>typedef&nbsp; struct<br>{<br>&nbsp; &nbsp;base_tim_hdr&nbsp; &nbsp;INFO;<br>&nbsp; &nbsp;UINT32&nbsp; &nbsp;Bytes;<br>&nbsp; &nbsp;UINT16&nbsp; &nbsp;PALX, PALY;<br>&nbsp; &nbsp;UINT16&nbsp; &nbsp;ZZ01;<br>&nbsp; &nbsp;UINT16&nbsp; &nbsp;CLUT_CNT;<br>} tim_8bpp;<br><br>typedef&nbsp; struct<br>{<br>&nbsp; &nbsp;base_tim_hdr&nbsp; &nbsp;INFO;<br>&nbsp; &nbsp;base_tim_img&nbsp; &nbsp;IMAGEDAT;<br>}&nbsp; tim_16bpp;<br><br>typedef&nbsp; struct<br>{<br>&nbsp; &nbsp;base_tim_hdr&nbsp; &nbsp;INFO;<br>&nbsp; &nbsp;base_tim_img&nbsp; &nbsp;IMAGEDAT;<br>}&nbsp; tim_24bpp;<br><br>#define&nbsp; TIM_4BPP&nbsp; &nbsp; 8<br>#define&nbsp; TIM_8BPP&nbsp; &nbsp; 9<br>#define&nbsp; TIM_16BPP&nbsp; &nbsp;2<br>#define&nbsp; TIM_24BPP&nbsp; &nbsp;3<br>#define&nbsp; TIM_MAGIC&nbsp; &nbsp;0x10<br><br>// Pallette/Color Look Up Tables for TIM files<br>typedef&nbsp; UINT16 CLUT_4bpp[16];<br>typedef&nbsp; UINT16 CLUT_8bpp[256];</pre></div>The code I have simply will not work for whatever you are using it for (It is VCL specific).<br>The
best method is to convert the BGR16 (note it IS 16 bit data not 15 bit
don't forget this EVER as that could really mess things up if you do).<br>The
data in all tim's other than 24bpp is 16 bit WORD sized ALWAYS and more
importantly it is NOT BGR15 data EVER. I repeat it WILL be a big
mistake if you assume that.&nbsp; Why? Bit 16 is the ALPHA bit or mask
bit.&nbsp; IF it is set be VERY wary of the data that's associated with
it.&nbsp; It can indicate any of 4 modes of transparency and this IS
used in FF9 background data. FF9's background data is 16 bit TIM
information, however they use a custom method to decode the data in the
TIM (IE it's internally not 16bit data <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0">).&nbsp; <br>My
suggestion is start with the data you have the header information I've
included should be enough to get you started and look at the <a href="http://wiki.qhimm.com/PSX/TIM_format" target="_blank">wiki </a>for further details on TIM images.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_89321" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.32;msg=89321">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg89339"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=4071" title="View the profile of scmark15">scmark15</a></b>
							<div class="smalltext">
								Newbie<br>
								<img src="index.php_files/01.gif" alt="*" border="0"><br>
								Posts: 4<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=4071"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/scmark15" title="Homepage" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="mailto:scmark15@yahoo.com"><img src="index.php_files/email_sm.gif" alt="Email" title="Email" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=4071" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg89339#msg89339"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_89339">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg89339#msg89339">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #33 on:</b> 2008-01-21 14:31:50 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=89339;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Thanks Cyb!<br><br>I was just messing around with Tile Molester and found them accidently, they weren't found<br>with any TIM viewer/scanner (Yuri 0.99e, Tim Viewer, PSXMC, etc...) that I had.<br><br>I realized that they were actually 16bpp after when I viewed them the second time after reading<br>qhimms wiki on TIM files with the extra 1400 (approx) bytes pasted at the end (to see if the<br>missing tiles would appear). I just found them by accident with the 15bpp BGR (555) codec setting<br>first, they display the same (or there is an un-noticable difference). In Tile Molester they are not<br>colored correctly&nbsp; at 16bpp BGRA (5551) or any other display codec but at 16bpp ABGR (1555)....<br>I'm not including the 15bpp (555) setting ^_^.<br><br>Just thought that others may wish to view them ^_^.<br><br>---------------------------------------------------------------------------------------------------------------------------------------<br><br>I have Visual Studio (6 &amp; 2008 .Net) as well as Borlands C++ &amp; Delphi (My old mans a<br>programer/systems analyst). I have very little programming experience (I know HTML, PHP and a<br>little hex) but want to learn C++, I've played with MS Visual C# .Net and Visual Basic as well as<br>Borlands Delphi but have no idea where to start with C++, like should I start with Borland C++ or<br>MS Visual C++, what is the difference. Any recommendations on language and/or books for<br>beginners would be greatly appreciated.<br><br>!!Thanks again!!,<br>scmark15<br><br>---------------------------------------------------------------------------------------------------------------------------------------<br>PS Cyb,<br><br>Thanks for the code! I'll save it for later.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_89339" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.33;msg=89339">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg89351"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=470" title="View the profile of Cyberman">Cyberman</a></b>
							<div class="smalltext">
								No life<br>
								<img src="index.php_files/mod.gif" alt="*" border="0"><br>
								Posts: 1380<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/AvatarQhimm.jpg" alt="" class="avatar" border="0"></div><br>
								
								
								
								<a href="http://edit.yahoo.com/config/send_webmesg?.target=cyberman_phillips"><img src="index.php_files/online_002.gif" alt="cyberman_phillips" border="0"></a><br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=470"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/cyberman_phillips/" title="http://www.geocities.com/cyberman_phillips/" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=470" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg89351#msg89351"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_89351">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg89351#msg89351">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #34 on:</b> 2008-01-21 22:39:04 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=89351;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">A
few Things VCL (BC++) makes things very easy. However MS created C# to
countermand this concept (IE that coding for there SDK is a pain in the
arse).&nbsp; It's now 6 of this half dozen of the other.&nbsp; It may
or may not be easier.&nbsp; the important thing is to use what you have
examples of that you can make work.&nbsp; BCB was what worked for
me.&nbsp; (It really is Rapid Application Development) If your father
(petrarch), can help you with it that's even better.&nbsp; <br><br>I
used VCL because I have little patients to build wheels over and over
again (VC++). C# is a bit easier ... a bit. It does have a large
learning curve. Also it is not C++.&nbsp; My opinion on it aside, it is
what it is.&nbsp; Don't be worried I guess I'm getting old and
inflexible <img src="index.php_files/cheesy.gif" alt="Cheesy" border="0"><br><br>Anyhow
try one thing and stick with it, don't use Visual Basic.. too many
limitations, it's for business oriented applications not something that
would require some pretty precarious methods of getting at data.&nbsp;
C++ or C# is a better bet.<br><br>Cyb</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_89351" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.34;msg=89351">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg89364"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg2">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=4071" title="View the profile of scmark15">scmark15</a></b>
							<div class="smalltext">
								Newbie<br>
								<img src="index.php_files/01.gif" alt="*" border="0"><br>
								Posts: 4<br>
								<br>
								
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=4071"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://www.geocities.com/scmark15" title="Homepage" target="_blank"><img src="index.php_files/www_sm.gif" alt="WWW" border="0"></a>
								<a href="mailto:scmark15@yahoo.com"><img src="index.php_files/email_sm.gif" alt="Email" title="Email" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=4071" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg89364#msg89364"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_89364">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg89364#msg89364">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #35 on:</b> 2008-01-22 15:44:31 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=89364;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Thanks
Cyb! I picked up some books that my father recommended, he also
recommended some webpages that show examples and source. Unfortunently
though he's grown accustomed to working with Microsoft Products (the
company he works for has deals with microsoft, one of the CEO works for
MS also) but he told me to start with Borland C++ and then give Visual
C++ a try a little later down the road, and he also recommended a while
back to learn C# (that's why I dabbled with it).<br><br>Anyways...Time to crack open some books<br><br>Thanks again Cyb!<br>Scmark15 <br><br></div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_89364" valign="bottom">
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.35;msg=89364">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 1px 1px 0pt;">
		<a name="msg89676"></a>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr><td class="windowbg">
				<table style="table-layout: fixed;" cellpadding="5" cellspacing="0" width="100%">
					<tbody><tr>
						<td rowspan="2" style="overflow: hidden;" valign="top" width="16%">
							<b><a href="http://forums.qhimm.com/index.php?action=profile;u=3641" title="View the profile of Zidane_2">Zidane_2</a></b>
							<div class="smalltext">
								Cool Newbie<br>
								<img src="index.php_files/02.gif" alt="*" border="0"><br>
								Posts: 25<br>
								<br>
								<div style="overflow: auto; width: 100%;"><img src="index.php_files/zidane.jpg" alt="" class="avatar" border="0"></div><br>
								<a href="http://www.icq.com/whitepages/about_me.php?uin=233434444" target="_blank"><img src="index.php_files/online_003.gif" alt="233434444" border="0" height="18" width="18"></a>
								
								
								<br>
								<a href="http://forums.qhimm.com/index.php?action=profile;u=3641"><img src="index.php_files/profile_sm.gif" alt="View Profile" title="View Profile" border="0"></a>
								<a href="http://forums.qhimm.com/index.php?action=pm;sa=send;u=3641" title="Personal Message (Offline)"><img src="index.php_files/im_off.gif" alt="Personal Message (Offline)" border="0"></a>
							</div>
						</td>
						<td height="100%" valign="top" width="85%">
							<table border="0" width="100%"><tbody><tr>
								<td valign="middle"><a href="http://forums.qhimm.com/index.php?topic=5481.msg89676#msg89676"><img src="index.php_files/xx.gif" alt="" border="0"></a></td>
								<td valign="middle">
									<div style="font-weight: bold;" id="subject_89676">
										<a href="http://forums.qhimm.com/index.php?topic=5481.msg89676#msg89676">Re: ff9.img directories and files</a>
									</div>
									<div class="smalltext"> <b>Reply #36 on:</b> 2008-02-10 16:20:44 </div></td>
								<td style="font-size: smaller;" align="right" nowrap="nowrap" height="20" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=post;quote=89676;topic=5481.25;num_replies=36;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/quote.gif" alt="Reply with quote" border="0"></a>
								</td>
							</tr></tbody></table>
							<hr class="hrcolor" size="1" width="100%">
							<div class="post">Some info:<br><br>Dir 0:<br>File "1" - Field Module<br>File "2" - Battle Module<br>File "3" - WORLDMAP Module <br>File "4" - TetraMaster module<br>File "5" - <img src="index.php_files/huh.gif" alt="Huh" border="0">? module.<br>File "6" - <img src="index.php_files/huh.gif" alt="Huh" border="0">? module.<br>File "9" - <img src="index.php_files/huh.gif" alt="Huh" border="0">? module.<br>File "14" - <img src="index.php_files/huh.gif" alt="Huh" border="0">? module.</div>
						</td>
					</tr>
					<tr>
						<td class="smalltext" valign="bottom" width="85%">
							<table style="table-layout: fixed;" border="0" width="100%"><tbody><tr>
								<td colspan="2" class="smalltext" width="100%">
								</td>
							</tr><tr>
								<td class="smalltext" id="modified_89676" valign="bottom">
									 <i>Last Edit: 2008-02-12 09:21:00 by Zidane_2</i> 
								</td>
								<td class="smalltext" align="right" valign="bottom">
									<a href="http://forums.qhimm.com/index.php?action=reporttm;topic=5481.36;msg=89676">Report to moderator</a> &nbsp;
									<img src="index.php_files/ip.gif" alt="" border="0">
									<a href="http://forums.qhimm.com/index.php?action=helpadmin;help=see_member_ip" onclick="return reqWin(this.href);" class="help">Logged</a>
								</td>
							</tr></tbody></table>
						</td>
					</tr>
				</tbody></table>
			</td></tr>
		</tbody></table>
	</td></tr>
	<tr><td style="padding: 0pt 0pt 1px;"></td></tr>
</tbody></table>
<a name="lastPost"></a>

<table class="tborder" style="margin-top: 1ex;" border="0" cellpadding="3" cellspacing="0" width="100%">
	<tbody><tr>
		<td class="catbg" height="30" width="100%">
			<table cellpadding="3" cellspacing="0" width="100%">
				<tbody><tr>
					<td>
						<a name="bot"></a><b>Pages:</b> <a class="navPages" href="http://forums.qhimm.com/index.php?topic=5481.0">1</a> [<b>2</b>] 
					</td>
					<td style="font-size: smaller;" align="right"><a href="http://forums.qhimm.com/index.php?action=post;topic=5481.25;num_replies=36"><img src="index.php_files/reply.gif" alt="Reply" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=notify;sa=on;topic=5481.25;sesc=9adac86f71db0d5b33b4b2b0ff6b7709" onclick="return confirm('Are you sure you wish to enable notification of new replies for this topic?');"><img src="index.php_files/notify.gif" alt="Notify of replies" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=markasread;sa=topic;t=119834;topic=5481.25;sesc=9adac86f71db0d5b33b4b2b0ff6b7709"><img src="index.php_files/markunread.gif" alt="Mark unread" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=sendtopic;topic=5481.0"><img src="index.php_files/sendtopic.gif" alt="Send this topic" border="0"></a> <a href="http://forums.qhimm.com/index.php?action=printpage;topic=5481.0" target="_blank"><img src="index.php_files/print.gif" alt="Print" border="0"></a>&nbsp;
					</td>
				</tr>
			</tbody></table>
		</td>
	</tr>
</tbody></table>
<script language="JavaScript" type="text/javascript" src="index.php_files/spellcheck.js"></script>
<script language="JavaScript" type="text/javascript" src="index.php_files/xml_topic.js"></script>
<script language="JavaScript" type="text/javascript"><!-- // --><![CDATA[
	quickReplyCollapsed = true;

	smf_topic = 5481;
	smf_start = 25;
	smf_show_modify = 1;

	// On quick modify, this is what the body will look like.
	var smf_template_body_edit = '<div id="error_box" style="padding: 4px; color: red;"></div><textarea class="editor" name="message" rows="12" style="width: 94%; margin-bottom: 10px;">%body%</textarea><br /><input type="hidden" name="sc" value="9adac86f71db0d5b33b4b2b0ff6b7709" /><input type="hidden" name="topic" value="5481" /><input type="hidden" name="msg" value="%msg_id%" /><div style="text-align: center;"><input type="submit" name="post" value="Save" onclick="return modify_save(\'9adac86f71db0d5b33b4b2b0ff6b7709\');" accesskey="s" />&nbsp;&nbsp;<input type="button" value="Spell Check" onclick="spellCheck(\'quickModForm\', \'message\');" />&nbsp;&nbsp;<input type="submit" name="cancel" value="Cancel" onclick="return modify_cancel();" /></div>';

	// And this is the replacement for the subject.
	var smf_template_subject_edit = '<input type="text" name="subject" value="%subject%" size="60" style="width: 99%;"  maxlength="80" />';

	// Restore the message to this after editing.
	var smf_template_body_normal = '%body%';
	var smf_template_subject_normal = '<a href="http://forums.qhimm.com/index.php?topic=5481.msg%msg_id%#msg%msg_id%">%subject%</a>';
	var smf_template_top_subject = "Topic: %subject% &nbsp;(Read 4156 times)"

	if (window.XMLHttpRequest)
		showModifyButtons();
// ]]></script>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
	<tbody><tr>
		<td valign="top"><span class="nav" style="font-size: smaller;"><b><a href="http://forums.qhimm.com/index.php" class="nav">Qhimm.com</a></b> &nbsp;|&nbsp; <b><a href="http://forums.qhimm.com/index.php#1" class="nav">Public forums</a></b> &nbsp;|&nbsp; <b><a href="http://forums.qhimm.com/index.php?board=4.0" class="nav">Tech-related</a></b> (Moderator: <a href="http://forums.qhimm.com/index.php?action=profile;u=109" title="Board Moderator">halkun</a>) &nbsp;|&nbsp; Topic: <b><a href="http://forums.qhimm.com/index.php?topic=5481.0" class="nav">ff9.img directories and files</a></b></span></td> 
		<td class="smalltext" align="right" valign="top"> <span class="nav"> <a href="http://forums.qhimm.com/index.php?topic=5481.0;prev_next=prev#new"> previous</a> <a href="http://forums.qhimm.com/index.php?topic=5481.0;prev_next=next#new">next </a></span></td>
	</tr>
</tbody></table>
<div style="padding-top: 4px; padding-bottom: 4px;"></div>
</form><div id="apBreakEnd2" style="display: none;" class="autoPagerS"></div>
<div style="margin-bottom: 1ex;" align="right">
	<form action="http://forums.qhimm.com/index.php" method="get" accept-charset="ISO-8859-1">
		<span class="smalltext">Jump to:</span>
		<select name="jumpto" id="jumpto" onchange="if (this.selectedIndex > 0 &amp;&amp; this.options[this.selectedIndex].value) window.location.href = smf_scripturl + this.options[this.selectedIndex].value.substr(smf_scripturl.indexOf('?') == -1 || this.options[this.selectedIndex].value.substr(0, 1) != '?' ? 0 : 1);">
			<option value="">Please select a destination:</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="#4">Read this first!</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="?board=8.0"> =&gt; Announcements and site development</option>
			<option value="?board=9.0"> =&gt; Frequently Asked Questions</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="#1">Public forums</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="?board=1.0"> =&gt; General</option>
			<option value="?board=2.0"> =&gt; Programming feedback</option>
			<option value="?board=3.0"> =&gt; Game tweaking</option>
			<option value="?board=13.0"> =&gt; Tech support</option>
			<option value="?board=4.0" selected="selected"> =&gt; Tech-related</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="#5">Private forums</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="?board=11.0"> =&gt; The Lounge</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="#3">Off-topic forums</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="?board=7.0"> =&gt; Completely unrelated</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="#6">Project forums</option>
			<option value="" disabled="disabled">-----------------------------</option>
			<option value="?board=12.0"> =&gt; Q-Gears</option>
			<option value="?board=14.0"> =&gt; FF7Voice</option>
		</select>&nbsp;
		<input value="go" onclick="if (this.form.jumpto.options[this.form.jumpto.selectedIndex].value) window.location.href = 'http://forums.qhimm.com/index.php' + this.form.jumpto.options[this.form.jumpto.selectedIndex].value;" type="button">
	</form>
</div>
<br>
<form action="http://forums.qhimm.com/index.php?action=spellcheck" method="post" accept-charset="ISO-8859-1" name="spell_form" id="spell_form" target="spellWindow"><input name="spellstring" value="" type="hidden"></form></td>
	</tr></tbody></table>

	<div id="footerarea" style="text-align: center; padding-bottom: 1ex;">
		<script language="JavaScript" type="text/javascript"><!-- // --><![CDATA[
			function smfFooterHighlight(element, value)
			{
				element.src = smf_images_url + "/" + (value ? "h_" : "") + element.id + ".gif";
			}
		// ]]></script>
		<table border="0" cellpadding="3" cellspacing="0" width="100%">
			<tbody><tr>
				<td align="right" valign="middle" width="28%">
					<a href="http://www.mysql.com/" target="_blank"><img id="powered-mysql" src="index.php_files/powered-mysql.gif" alt="Powered by MySQL" style="margin: 5px 16px;" onmouseover="smfFooterHighlight(this, true);" onmouseout="smfFooterHighlight(this, false);" border="0" height="20" width="54"></a>
					<a href="http://www.php.net/" target="_blank"><img id="powered-php" src="index.php_files/powered-php.gif" alt="Powered by PHP" style="margin: 5px 16px;" onmouseover="smfFooterHighlight(this, true);" onmouseout="smfFooterHighlight(this, false);" border="0" height="20" width="54"></a>
				</td>
				<td style="white-space: nowrap;" align="center" valign="middle">
					
		<span class="smalltext" style="display: inline; visibility: visible; font-family: Verdana,Arial,sans-serif;"><a href="http://www.simplemachines.org/" title="Simple Machines Forum" target="_blank">Powered by SMF 1.1.10</a> | 
<a href="http://www.simplemachines.org/about/copyright.php" title="Free Forum Software" target="_blank">SMF  2006-2009, Simple Machines LLC</a>
		</span>
				</td>
				<td align="left" valign="middle" width="28%">
					<a href="http://validator.w3.org/check/referer" target="_blank"><img id="valid-xhtml10" src="index.php_files/valid-xhtml10.gif" alt="Valid XHTML 1.0!" style="margin: 5px 16px;" onmouseover="smfFooterHighlight(this, true);" onmouseout="smfFooterHighlight(this, false);" border="0" height="20" width="54"></a>
					<a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank"><img id="valid-css" src="index.php_files/valid-css.gif" alt="Valid CSS!" style="margin: 5px 16px;" onmouseover="smfFooterHighlight(this, true);" onmouseout="smfFooterHighlight(this, false);" border="0" height="20" width="54"></a>
				</td>
			</tr>
		</tbody></table>
		<span class="smalltext">Page created in 0.159 seconds with 22 queries.</span>
		</div>
		<script language="JavaScript" type="text/javascript"><!-- // --><![CDATA[
			window.addEventListener("load", smf_codeFix, false);
			function smf_codeFix()
			{
				var codeFix = document.getElementsByTagName ? document.getElementsByTagName("div") : document.all.tags("div");

				for (var i = 0; i < codeFix.length; i++)
				{
					if (codeFix[i].className == "code" && (codeFix[i].scrollWidth > codeFix[i].clientWidth || codeFix[i].clientWidth == 0))
						codeFix[i].style.overflow = "scroll";
				}
			}
		// ]]></script>
		<div id="ajax_in_progress" style="display: none;">Loading...</div>
	<div style="padding: 1px; background: green none repeat scroll 0% 50%; position: fixed; z-index: 2147483647; font-size: 12px; bottom: 1px; max-width: 160px; max-height: 20px; right: 20px; -moz-background-clip: border; -moz-background-origin: padding; -moz-background-inline-policy: continuous; display: none;" id="autoPagerBorderPaging" class="autoPagerS"><b>&#1047;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072;&#8230;</b></div></body></html>